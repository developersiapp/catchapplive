(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{137:function(e,a,t){},185:function(e,a,t){},305:function(e,a,t){},326:function(e,a,t){e.exports=t(733)},535:function(e,a,t){},729:function(e,a,t){},730:function(e,a,t){},733:function(e,a,t){"use strict";t.r(a);var r=t(141),s=(t(327),t(336),t(0)),o=t.n(s),l=t(52),i=t.n(l),n=t(316),c=t(19),m=t(317),d=t(11),u={action:""},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CLUB_LIST":return Object(d.a)({},e,{data:a.payload,action:"CLUB_LIST"});case"GET_PROFILE":return Object(d.a)({},e,{data:a.payload,action:"GET_PROFILE"});case"UPDATE_PROFILE":return Object(d.a)({},e,{data:a.payload,action:"UPDATE_PROFILE"});case"GET_CLUBDETAILS":return Object(d.a)({},e,{data:a.payload,action:"GET_CLUBDETAILS"});case"CREATE_STREAM":return Object(d.a)({},e,{data:a.payload,action:"CREATE_STREAM"});case"START_STREAM":return Object(d.a)({},e,{data:a.payload,action:"START_STREAM"});case"USER_CLUB_LIST":return Object(d.a)({},e,{data:a.payload,action:"USER_CLUB_LIST"});case"SEARCH_CLUBS":return Object(d.a)({},e,{data:a.payload,action:"SEARCH_CLUBS"});case"GET_USER_PROFILE":return Object(d.a)({},e,{data:a.payload,action:"GET_USER_PROFILE"});case"UPDATE_USER_PROFILE":return Object(d.a)({},e,{data:a.payload,action:"UPDATE_USER_PROFILE"});case"USER_STORIES":return Object(d.a)({},e,{data:a.payload,action:"USER_STORIES"});case"ADD_CLUB":return Object(d.a)({},e,{data:a.payload,action:"ADD_CLUB"});case"LIVE_DJ":return Object(d.a)({},e,{data:a.payload,action:"LIVE_DJ"});case"TOP_CITIES":return Object(d.a)({},e,{data:a.payload,action:"TOP_CITIES"});case"SEARCH_CITY":return Object(d.a)({},e,{data:a.payload,action:"SEARCH_CITY"});case"EMPTY_DATA":return Object(d.a)({},e,{data:a.payload,action:"EMPTY_DATA"});default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{data:"",status:""},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CALL_START":return{};case"REGISTER_SUCCESSFULL":case"REGISTER_ERROR":return Object(d.a)({},e,{data:a.payload,action:"REGISTER"});case"LOGIN_SUCCESSFULL":case"LOGIN_ERROR":return Object(d.a)({},e,{Logindata:a.payload,action:"LOGIN"});case"USER_LOGIN_SUCCESSFULL":case"USER_LOGIN_ERROR":return Object(d.a)({},e,{Logindata:a.payload,action:"USER_LOGIN"});case"SOCIAL_LOGIN_SUCCESSFULL":case"SOCIAL_LOGIN_ERROR":return Object(d.a)({},e,{Logindata:a.payload,action:"SOCIAL_LOGIN"});case"FORGET_PASSWORD_SUCCESSFULL":case"FORGET_PASSWORD_ERROR":return Object(d.a)({},e,{data:a.payload,action:"FORGET_PASSWORD"});case"RESET_PASSWORD_SUCCESSFULL":case"RESET_PASSWORD_ERROR":return Object(d.a)({},e,{data:a.payload,action:"RESET_PASSWORD"});case"USER_REGISTER_SUCCESSFULL":case"USER_REGISTER_ERROR":return Object(d.a)({},e,{data:a.payload,action:"USER_REGISTER"});case"USER_FORGET_PASSWORD_SUCCESSFULL":case"USER_FORGET_PASSWORD_ERROR":return Object(d.a)({},e,{data:a.payload,action:"USER_FORGET_PASSWORD"});case"USER_RESET_PASSWORD_SUCCESSFULL":case"USER_RESET_PASSWORD_ERROR":return Object(d.a)({},e,{data:a.payload,action:"USER_RESET_PASSWORD"});case"USER_SOCIAL_LOGIN_SUCCESSFULL":case"USER_SOCIAL_LOGIN_ERROR":return Object(d.a)({},e,{Logindata:a.payload,action:"USER_SOCIAL_LOGIN"});case"CHECK_EMAIL":return Object(d.a)({},e,{data:a.payload,action:"CHECK_EMAIL"});case"USER_CHECK_EMAIL":return Object(d.a)({},e,{data:a.payload,action:"USER_CHECK_EMAIL"});case"DJ_SOCIAL_REGISTER_SUCCESSFULL":case"DJ_SOCIAL_REGISTER_ERROR":return Object(d.a)({},e,{data:a.payload,action:"DJ_SOCIAL_REGISTER"});case"USER_SOCIAL_REGISTER_SUCCESSFULL":case"USER_SOCIAL_REGISTER_ERROR":return Object(d.a)({},e,{data:a.payload,action:"USER_SOCIAL_REGISTER"});case"EMPTY_DATA":return Object(d.a)({},e,{data:a.payload,action:"EMPTY_DATA"});default:return e}},g={action:""},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CREATE_STREAM":return Object(d.a)({},e,{data:a.payload,action:"CREATE_STREAM"});case"START_STREAM":return Object(d.a)({},e,{data:a.payload,action:"START_STREAM"});case"STREAM_STATE":return Object(d.a)({},e,{data:a.payload,action:"STREAM_STATE"});case"STOP_STREAM":return Object(d.a)({},e,{data:a.payload,action:"STOP_STREAM"});case"SET_STREAM_DETAILS":return Object(d.a)({},e,{data:a.payload,action:"SET_STREAM_DETAILS"});case"EMPTY_DATA":return Object(d.a)({},e,{data:a.payload,action:"EMPTY_DATA"});default:return e}},b=Object(c.c)({DashboardReducer:p,LoginReducer:h,StreamReducer:f,routing:m.routerReducer}),E=t(24),v=t(27);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(535);var S=t(7),y=t(12),N=t(10),D=t(14),w=t(13),_=t(15),L=(t(185),t(44)),C=t.n(L),I=t(73),R=t.n(I),O="https://catchapp.live/catchappdevapi/api/",j=R.a.create();function k(e){return function(a){j.post(O+"dj-login",e).then((function(e){a({type:"LOGIN_SUCCESSFULL",payload:e.data})})).catch((function(e){e.response&&a({type:"LOGIN_ERROR",payload:e.response.data})}))}}function T(e){return function(a){j.post(O+"user-login",e).then((function(e){a({type:"USER_LOGIN_SUCCESSFULL",payload:e.data})})).catch((function(e){e.response&&a({type:"USER_LOGIN_ERROR",payload:e.response.data})}))}}function x(e){return function(a){j.post(O+"social-dj-login",e).then((function(e){a({type:"SOCIAL_LOGIN_SUCCESSFULL",payload:e.data})})).catch((function(e){e.response&&a({type:"SOCIAL_LOGIN_ERROR",payload:e.response.data})}))}}function P(e){return function(a){j.post(O+"dj-reset-password",e).then((function(e){a({type:"FORGET_PASSWORD_SUCCESSFULL",payload:e.data})})).catch((function(e){e.response&&a({type:"FORGET_PASSWORD_ERROR",payload:e.response.data})}))}}function U(e){return function(a){j.post(O+"update-dj-password",e).then((function(e){a({type:"RESET_PASSWORD_SUCCESSFULL",payload:e.data})})).catch((function(e){e.response&&a({type:"RESET_PASSWORD_ERROR",payload:e.response.data})}))}}function M(e){return function(a){j.post(O+"dj-register",e).then((function(e){a({type:"REGISTER_SUCCESSFULL",payload:e.data})})).catch((function(e){e.response&&a({type:"REGISTER_ERROR",payload:e.response.data})}))}}function A(e){return function(a){j.post(O+"user-register",e).then((function(e){a({type:"USER_REGISTER_SUCCESSFULL",payload:e.data})})).catch((function(e){e.response&&a({type:"USER_REGISTER_ERROR",payload:e.response.data})}))}}function F(e){return function(a){j.post(O+"user-forgot-password",e).then((function(e){a({type:"USER_FORGET_PASSWORD_SUCCESSFULL",payload:e.data})})).catch((function(e){e.response&&a({type:"USER_FORGET_PASSWORD_ERROR",payload:e.response.data})}))}}function G(e){return function(a){j.post(O+"update-user-password",e).then((function(e){a({type:"USER_RESET_PASSWORD_SUCCESSFULL",payload:e.data})})).catch((function(e){e.response&&a({type:"USER_RESET_PASSWORD_ERROR",payload:e.response.data})}))}}function B(e){return function(a){j.post(O+"social-user-login",e).then((function(e){a({type:"USER_SOCIAL_LOGIN_SUCCESSFULL",payload:e.data})})).catch((function(e){e.response&&a({type:"USER_SOCIAL_LOGIN_ERROR",payload:e.response.data})}))}}function J(e){return function(a){j.post(O+"dj-check-email",e).then((function(e){a({type:"CHECK_EMAIL",payload:e.data})})).catch((function(e){e.response&&a({type:"CHECK_EMAIL",payload:e.response.data})}))}}function K(e){return function(a){j.post(O+"user-check-email",e).then((function(e){a({type:"USER_CHECK_EMAIL",payload:e.data})})).catch((function(e){e.response&&a({type:"USER_CHECK_EMAIL",payload:e.response.data})}))}}function H(e){return function(a){j.post(O+"dj-social-web",e).then((function(e){a({type:"DJ_SOCIAL_REGISTER_SUCCESSFULL",payload:e.data})})).catch((function(e){e.response&&a({type:"DJ_SOCIAL_REGISTER_ERROR",payload:e.response.data})}))}}function W(e){return function(a){j.post(O+"user-social-web",e).then((function(e){a({type:"USER_SOCIAL_REGISTER_SUCCESSFULL",payload:e.data})})).catch((function(e){e.response&&a({type:"USER_SOCIAL_REGISTER_ERROR",payload:e.response.data})}))}}function q(e){return function(e){e({type:"EMPTY_DATA",payload:{data:"",status:200,message:""}})}}j.interceptors.response.use((function(e){return e.data,e}),(function(e){if(e.response){if(500==e.response.status)return{data:{data:"",message:"server_error",status:500}};e.response.data.message;return Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}}));var z=t(74),V=t.n(z),Y=t(21),Z=t.n(Y),X=t(8),Q=t(32),$=t.n(Q),ee=t(33),ae=t.n(ee),te=t(118),re=t.n(te);function se(){return localStorage.getItem("isLoggedIn")}function oe(e){var a=localStorage.getItem("access_token");return a||!1}function le(){localStorage.getItem("user-type");localStorage.removeItem("access_token"),localStorage.removeItem("isLoggedIn"),localStorage.removeItem("user_type"),localStorage.removeItem("userData"),localStorage.removeItem("isLoggedIn"),window.location.href="/"}function ie(e){e=e||2;var a=!0,t=localStorage.getItem("onSubmitTime");t?re()().diff(re.a.unix(t),"seconds")<=e?a=!1:localStorage.setItem("onSubmitTime",re()().format("X")):localStorage.setItem("onSubmitTime",re()().format("X"));return a}var ne=t(82),ce=t.n(ne),me=function(e){function a(e){var t;Object(y.a)(this,a),(t=Object(D.a)(this,Object(w.a)(a).call(this,e))).redirectDashboard=function(){return o.a.createElement("div",null,t.props.history.push("/dashboard"))},t.redirectUserDashboard=function(){return o.a.createElement("div",null,t.props.history.push("/"))},t.handleInputChange=function(e){var a,r=e.target,s="checkbox"===r.type?r.checked:r.value;t.setState((a={},Object(S.a)(a,e.target.name,s),Object(S.a)(a,"errorMessagePass",""),a))},t.handleSubmit=function(e){if(e.preventDefault(),ie()){var a=!1,r=!1,s={};if(t.setState({emailError:"",passwordError:"",loggingIn:!0}),void 0==typeof t.state.email||null==t.state.email||""==t.state.email?(t.setState({emailError:"fieldError"}),a=!0):C.a.isEmail(t.state.email)||(t.setState({userNaam:t.state.email}),r=!0),void 0===typeof t.state.password||null===t.state.password||""===t.state.password?(t.setState({passError:"fieldError"}),a=!0):(a=!1,t.setState({errorMessagePass:"",passError:""})),!0===a)return void t.setState({loggingIn:!1});s=r?{user_name:t.state.email,password:t.state.password,device_token:"ABCDEF"}:{email:t.state.email,password:t.state.password,device_token:"ABCDEF"},1==t.state.rememberMe&&(localStorage.setItem("sessionEmail",t.state.email),localStorage.setItem("session",t.state.rememberMe)),0==t.state.rememberMe&&(localStorage.removeItem("sessionEmail"),localStorage.removeItem("session")),localStorage.setItem("location",t.state.location),t.setState({showLoader:!0}),t.props.djSignInRequest(s)}},t.redirectForgetPassword=function(){return o.a.createElement("div",null,t.props.history.push("/forget-password"))},t.redirectSignup=function(){return o.a.createElement("div",null,t.props.history.push("/sign-up"))},t._handleKeyDown=function(e){"Enter"===e.key&&(e.preventDefault(),t.handleSubmit(e))},t.handleFBLogin=function(e){var a={};if(e){if(""==e.email||void 0==e.email||null==e.email)return t.setState({clientId:e.userID?e.userID:"",fbName:e.name?e.name:"",fbEmail:e.email?e.email:t.state.fbEmail,oauthKey:e.accessToken?e.accessToken:"",fbPictureUrl:e.picture?e.picture.data.url:"",user_name:e.email?e.email:t.state.fbEmail}),a={client_id:e.userID?e.userID:"",registration_type:"2"},t.setState({showLoader:!0}),void t.props.checkEmail(a);a={client_id:e.userID?e.userID:"",name:e.name?e.name:"",email:e.email?e.email:t.state.fbEmail,registeration_type:"2",oauth_key:e.accessToken?e.accessToken:"",profile_picture_url:e.picture?e.picture.data.url:"",location:t.state.location,user_name:e.email?e.email:e.userID,web:!0},t.setState({showLoader:!0}),t.props.djSocialRegister(a)}else X.b.error("Facebook error, please try again later!")},t.fbSubmit=function(){var e={client_id:t.state.clientId?t.state.clientId:"",name:t.state.fbName?t.state.fbName:"",email:t.state.fbEmail?t.state.fbEmail:"",registeration_type:"2",oauth_key:t.state.oauthKey?t.state.oauthKey:"",profile_picture_url:t.state.fbPictureUrl?t.state.fbPictureUrl:"",location:t.state.location,user_name:t.state.fbEmail?t.state.fbEmail:"",web:!0};t.setState({showLoader:!0,emailFound:""}),t.props.djSocialRegister(e)},t.responseGoogle=function(e){if(ie()){var a={};e?(a={client_id:e.googleId?e.googleId:"",name:e.profileObj?e.profileObj.name:"",email:e.profileObj?e.profileObj.email:"",registeration_type:"3",oauth_key:e.accessToken?e.accessToken:"",profile_picture_url:e.profileObj?e.profileObj.imageUrl:"",location:t.state.location,user_name:e.profileObj?e.profileObj.email:e.profileObj.userID,web:!0},t.setState({showLoader:!0}),t.props.djSocialRegister(a)):X.b.error("Google error, please try again later!")}},t.failGoogle=function(){X.b.error("Google error, please try again later!")},t.dismissModal=function(){t.setState({showMe:!1,emailFound:"",clientId:"",fbName:"",fbEmail:"",oauthKey:"",fbPictureUrl:"",userName:"",fbGender:"",fbEmailErorr:""}),X.b.error("Registration Cancelled!")},t.rememberMe=function(){},localStorage.setItem("user-type","dj");var r=JSON.parse(localStorage.getItem("userData")),s=JSON.parse(localStorage.getItem("isLoggedIn")),l=localStorage.getItem("user-type"),i=localStorage.getItem("sessionEmail"),n=localStorage.getItem("session");return t.state={email:i||"",password:"",emailError:"",passError:"",passwordError:"",loggingIn:!1,errorMessageEmail:"",errorMessagePass:"",location:"",rememberMe:n||!1,logged_in:!!r&&r.logged_in,isLoggedIn:s||0,userId:r?r.id:"",showLoader:!1,name:"",clientId:"",access_token:"",userType:l||"",emailFound:"",fbEmail:"",showMe:!1,userNaam:""},t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=this;if((this.state.userType=1==this.state.logged_in||1==this.state.isLoggedIn)&&this.redirectDashboard(),this.state.userType=1==this.state.logged_in||1==this.state.isLoggedIn)return o.a.createElement("div",null,this.props.history.push("/"));navigator.geolocation?navigator.geolocation.getCurrentPosition((function(a){var t=a.coords,r=t.longitude,s=t.latitude,o={lang:r,lati:s};Z.a.setApiKey("AIzaSyAOosj6Hg1fpweT-KC4FmbzOeZyuhzwdvw"),Z.a.setLanguage("en"),Z.a.setRegion("es"),Z.a.enableDebug(),Z.a.fromLatLng(s,r).then((function(a){var t=a.results[3].formatted_address.split(","),r=t[t.length-3];e.setState({location:r})}),(function(e){})),localStorage.setItem("placeData",JSON.stringify(o))})):console.error("Geolocation is not supported by this browser!")}},{key:"handleFbSubmit",value:function(e){if(e.preventDefault(),""!=this.state.fbEmail&&void 0!=this.state.fbEmail&&null!=this.state.fbEmail&&""!=this.state.fbEmail.trim()){var a={client_id:this.state.clientId?this.state.clientId:"",name:this.state.fbName?this.state.fbName:"",email:this.state.fbEmail?this.state.fbEmail:"",registeration_type:"2",oauth_key:this.state.oauthKey?this.state.oauthKey:"",profile_picture_url:this.state.fbPictureUrl?this.state.fbPictureUrl:"",location:this.state.location,user_name:this.state.fbEmail?this.state.fbEmail:"",web:!0};this.setState({showLoader:!0}),this.props.djSocialRegister(a)}else this.setState({fbEmailErorr:"fieldError"})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement($.a,{active:this.state.showLoader,spinner:o.a.createElement(ae.a,{color:"#fb556b"}),text:"Loading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-sm-12 col-xl-6 px-0 left-text"},o.a.createElement("section",{className:"login-left-box"},o.a.createElement("div",{className:"login-box-inner"},o.a.createElement("div",{className:"display-block logo-box mb-4"},o.a.createElement("img",{src:"img/logo-color.png",onClick:this.redirectUserDashboard}),o.a.createElement("span",{className:"catch"},"Catch Dj")),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"display-block"},o.a.createElement("span",{className:this.state.emailError?"input-border fieldError":"input-border"},o.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"}),o.a.createElement("input",{type:"text",placeholder:"Username or email",name:"email",value:this.state.email,onChange:this.handleInputChange}))),o.a.createElement("div",{className:"display-block"},o.a.createElement("span",{className:this.state.passError?"input-border fieldError":"input-border"},o.a.createElement("img",{src:"img/lock.png"}),o.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleInputChange}))),o.a.createElement("div",{className:"display-block",style:{clear:"left"}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-6 col-sm-6 col-6 remembr-box"},o.a.createElement("label",{className:"container-checkbox"},o.a.createElement("span",{className:"rm-text"},"Remember me"),o.a.createElement("input",{type:"checkbox",name:"rememberMe",onChange:this.handleInputChange,checked:!!this.state.rememberMe&&"checked"}),o.a.createElement("span",{className:"checkmark"}))),o.a.createElement("div",{className:"col-xl-6 col-sm-6 col-6 login-btn-box"},o.a.createElement("button",{type:"submit",className:"btn login-btn float-right"},"LOGIN"))))),o.a.createElement("div",{className:"display-block"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-6 col-sm-6 col-6 register-txt"},o.a.createElement("a",{onClick:this.redirectSignup},"Register now")),o.a.createElement("div",{className:"col-xl-6 col-sm-6 col-6 forgot-txt text-right"},o.a.createElement("a",{onClick:this.redirectForgetPassword},"Forgot password?")))),o.a.createElement("div",{className:"display-block text-center or"},o.a.createElement("span",null,"or")),o.a.createElement("div",{className:"display-block"},o.a.createElement(V.a,{appId:"1474630962675755",autoLoad:!1,fields:"name,email,picture",callback:this.handleFBLogin,cssClass:"my-facebook-button-class btn btn-fb",icon:"fa-facebook"})),o.a.createElement("div",{className:"display-block"},o.a.createElement(ce.a,{clientId:"38739005846-2mi6s38na46fb1lbes4ba9b8bko14eqg.apps.googleusercontent.com",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,className:"google-btn w-100 btn",buttonText:"Login with Google"}))))),o.a.createElement("div",{className:"col-12 col-sm-12 col-xl-6 px-0 right-img"},o.a.createElement("section",{className:"login-right-box"},o.a.createElement("div",{className:"login-box-inner"},o.a.createElement("img",{src:"img/right-img-min.png"})))),this.state.showMe&&o.a.createElement("div",{className:"modal fade",id:"addclub",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("button",{type:"button",className:"close text-right","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.dismissModal()}},o.a.createElement("span",{"aria-hidden":"true"},o.a.createElement("img",{src:"img/close.png"}))),o.a.createElement("div",{className:"modal-header text-center"},o.a.createElement("h5",Object(S.a)({className:"modal-title",id:"exampleModalLabel"},"className","new-club"),"Email required for register")),o.a.createElement("div",{className:"modal-body"},o.a.createElement("div",{className:"display-block type-something"},o.a.createElement("input",{className:this.state.fbEmailErorr?"form-control fieldError":"form-control",placeholder:"Email",value:this.state.fbEmail,onChange:this.handleInputChange,name:"fbEmail"}))),o.a.createElement("div",{className:"modal-footer modal-button"},o.a.createElement("div",{className:"add-club-btn"},o.a.createElement("button",{type:"button",className:"btn mb-4",onClick:function(a){return e.handleFbSubmit(a)}},"Submit")))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var t={};if(e.exportEmptyData(),void 0!==e.userData&&e.userData!==a.userData&&(t.errorMessagePass="",t.passError="",1==a.rememberMe&&(localStorage.setItem("sessionEmail",e.userData.email),localStorage.setItem("session",a.rememberMe)),t.showLoader=!1,e.history.push("/dashboard")),void 0!==e.errorData&&1==e.errorData.error&&e.errorData!==a.errorData&&e.errorDate!==a.errorDate)return t.errorMessagePass=e.errorData.message?e.errorData.message:"",X.b.error(t.errorMessagePass),t.errorDate=e.errorDate,t.showLoader=!1,t;if(void 0!==e.emailData&&e.emailData!==a.emailData){if(t.emailFound=e.emailData?e.emailData.status:"",t.showLoader=!1,0!=e.emailData.status&&1!=e.emailData.status||(t.showMe=!0),2==e.emailData.status){t.showMe=!1;var r={client_id:a.clientId?a.clientId:"",name:a.fbName?a.fbName:"",email:e.emailData.email?e.emailData.email:"",registeration_type:"2",oauth_key:a.oauthKey?a.oauthKey:"",profile_picture_url:a.fbPictureUrl?a.fbPictureUrl:"",location:"",user_name:e.emailData.email?e.emailData.email:"",web:!0};t.showLoader=!0,e.djSocialRegister(r)}return t}return null}}]),a}(s.Component),de=Object(E.b)((function(e){var a={};if("LOGIN"===e.LoginReducer.action){if(!1!==e.LoginReducer.Logindata.error)a.errorData=e.LoginReducer.Logindata,a.errorDate=new Date;else{var t=e.LoginReducer.Logindata.data;a.userData=e.LoginReducer.Logindata.data,localStorage.setItem("userData",JSON.stringify(t)),localStorage.setItem("isLoggedIn",1)}return a}if("SOCIAL_LOGIN"===e.LoginReducer.action){if(!1!==e.LoginReducer.Logindata.error)a.errorData=e.LoginReducer.Logindata,a.errorDate=new Date;else{var r=e.LoginReducer.Logindata.data;a.userData=e.LoginReducer.Logindata.data,localStorage.setItem("userData",JSON.stringify(r)),localStorage.setItem("isLoggedIn",1)}return a}if("REGISTER"===e.LoginReducer.action){if(!1!==e.LoginReducer.data.error)a.errorData=e.LoginReducer.data,a.errorDate=new Date;else{var s=e.LoginReducer.data.data;a.userData=e.LoginReducer.data.data,localStorage.setItem("userData",JSON.stringify(s)),localStorage.setItem("isLoggedIn",1)}return a}if("DJ_SOCIAL_REGISTER"===e.LoginReducer.action){if(!1!==e.LoginReducer.data.error)a.errorData=e.LoginReducer.data,a.errorDate=new Date;else{var o=e.LoginReducer.data.data;a.userData=e.LoginReducer.data.data,localStorage.setItem("userData",JSON.stringify(o)),localStorage.setItem("isLoggedIn",1)}return a}return"CHECK_EMAIL"===e.LoginReducer.action?(void 0==e.LoginReducer.data||(a.emailData=e.LoginReducer.data),a):{loginMessage:""}}),(function(e){return Object(c.b)({djSignInRequest:k,socialLogin:x,exportEmptyData:q,userSignUpRequest:M,checkEmail:J,djSocialRegister:H},e)}))(Object(v.g)(me));navigator.geolocation?navigator.geolocation.getCurrentPosition((function(e){var a=e.coords,t=a.longitude,r=a.latitude,s={lang:t,lati:r};Z.a.setApiKey("AIzaSyAOosj6Hg1fpweT-KC4FmbzOeZyuhzwdvw"),Z.a.setLanguage("en"),Z.a.setRegion("es"),Z.a.enableDebug(),Z.a.fromLatLng(r,t).then((function(e){var a=e.results[3].formatted_address.split(","),t=a[a.length-3];""==t||void 0==t||null==t?localStorage.setItem("location","Select Location"):localStorage.setItem("location",t)}),(function(e){})),localStorage.setItem("placeData",JSON.stringify(s))})):console.error("Geolocation is not supported by this browser!");var ue=function(e){function a(e){var t,r;Object(y.a)(this,a);var s=localStorage.getItem("location"),l=localStorage.getItem("userEmail"),i=localStorage.getItem("userSession"),n=localStorage.getItem("user-type"),c=JSON.parse(localStorage.getItem("userData")),m=JSON.parse(localStorage.getItem("isLoggedIn"));return(r=Object(D.a)(this,Object(w.a)(a).call(this,e))).redirectDashboard=function(){return o.a.createElement("div",null,r.props.history.push("/dashboard"))},r.redirectUserDashboard=function(){return o.a.createElement("div",null,r.props.history.push("/"))},r.handleInputChange=function(e){var a,t=e.target,s="checkbox"===t.type?t.checked:t.value;r.setState((a={},Object(S.a)(a,e.target.name,s),Object(S.a)(a,"errorMessagePass",""),a))},r.handleSubmit=function(e){e.preventDefault();var a=!1,t={};if(ie()){var s=!1;if(r.setState({emailError:"",passwordError:"",loggingIn:!0}),void 0==typeof r.state.email||null==r.state.email||""==r.state.email?(r.setState({emailError:"fieldError"}),s=!0):C.a.isEmail(r.state.email)||(a=!0),void 0===typeof r.state.password||null===r.state.password||""===r.state.password?(r.setState({passError:"fieldError"}),s=!0):(s=!1,r.setState({errorMessagePass:"",passError:""})),!0===s)return void r.setState({loggingIn:!1});t=a?{user_name:r.state.email,password:r.state.password,device_token:"ABCDEF"}:{email:r.state.email,password:r.state.password,device_token:"ABCDEF"},1==r.state.rememberMe&&(localStorage.setItem("userEmail",r.state.email),localStorage.setItem("userSession",r.state.rememberMe)),0==r.state.rememberMe&&(localStorage.removeItem("userEmail"),localStorage.removeItem("userSession")),r.setState({showLoader:!0}),r.props.userSignInRequest(t)}},r.redirectForgetPassword=function(){return o.a.createElement("div",null,r.props.history.push("/forget-password"))},r.redirectSignup=function(){return o.a.createElement("div",null,r.props.history.push("/register"))},r.handleFBLogin=function(e){var a={};if(e){if(""==e.email||void 0==e.email||null==e.email)return r.setState({clientId:e.userID?e.userID:"",fbFirstname:e.name?e.name.split(" ").slice(0,-1).join(" "):"",fbLastname:e.name?e.name.split(" ").slice(-1).join(" "):"",fbEmail:e.email?e.email:r.state.fbEmail,oauthKey:e.accessToken?e.accessToken:"",fbPictureUrl:e.picture?e.picture.data.url:"",userName:e.email?e.email:r.state.fbEmail}),a={client_id:e.userID?e.userID:"",registration_type:"2"},r.setState({showLoader:!0}),void r.props.userCheckEmail(a);a={client_id:e.userID?e.userID:"",first_name:e.name?e.name.split(" ").slice(0,-1).join(" "):"",last_name:e.name?e.name.split(" ").slice(-1).join(" "):"",email:e.email?e.email:r.state.fbEmail,register_type:"2",oauth_key:e.accessToken?e.accessToken:"",profile_picture_url:e.picture?e.picture.data.url:"",location:r.state.location,user_name:e.email?e.email:e.userID,device_token:"ABCDEF",web:!0},r.setState({showLoader:!0}),r.props.userSocialRegister(a)}else X.b.error("Facebook error, please try again later!")},r.responseGoogle=function(e){if(ie()){var a={};e?(a={client_id:e.googleId?e.googleId:"",first_name:e.profileObj?e.profileObj.name.split(" ").slice(0,-1).join(" "):"",last_name:e.profileObj?e.profileObj.name.split(" ").slice(-1).join(" "):"",email:e.profileObj?e.profileObj.email:"",register_type:"3",oauth_key:e.accessToken?e.accessToken:"",profile_picture_url:e.profileObj?e.profileObj.imageUrl:"",location:r.state.location?r.state.location:"",user_name:e.profileObj?e.profileObj.email:e.profileObj.userID,web:!0,device_token:"ABCDEF"},r.setState({showLoader:!0}),r.props.userSocialRegister(a)):X.b.error("Google error, please try again later!")}},r.redirectUserDashboard=function(){return o.a.createElement("div",null,r.props.history.push("/"))},r.failGoogle=function(){X.b.error("Google error, please try again later!"),r.setState({})},r.dismissModal=function(){r.setState({showMe:!1,emailFound:"",clientId:"",fbName:"",fbEmail:"",oauthKey:"",fbPictureUrl:"",userName:"",fbGender:"",fbEmailErorr:""}),X.b.error("Registration Cancelled!")},r.state=(t={email:l||"",password:"",emailError:"",passError:"",passwordError:"",loggingIn:!1,errorMessageEmail:"",errorMessagePass:"",location:{},rememberMe:i||!1,showLoader:!1,showMe:!1,emailFound:""},Object(S.a)(t,"location",s||"Select Location"),Object(S.a)(t,"userType",n||""),Object(S.a)(t,"logged_in",!!c&&c.logged_in),Object(S.a)(t,"isLoggedIn",m||0),Object(S.a)(t,"userId",c?c.id:""),t),r}return Object(_.a)(a,e),Object(N.a)(a,[{key:"componentDidMount",value:function(){if((this.state.userType=1==this.state.logged_in||1==this.state.isLoggedIn)&&this.redirectDashboard(),this.state.userType=1==this.state.logged_in||1==this.state.isLoggedIn)return o.a.createElement("div",null,this.props.history.push("/"))}},{key:"handleFbSubmit",value:function(e){if(e.preventDefault(),""!=this.state.fbEmail&&void 0!=this.state.fbEmail&&null!=this.state.fbEmail&&""!=this.state.fbEmail.trim()){var a={client_id:this.state.clientId?this.state.clientId:"",first_name:this.state.fbFirstname?this.state.fbFirstname:"",last_name:this.state.fbLastname?this.state.fbLastname:"",email:this.state.fbEmail?this.state.fbEmail:"",register_type:"2",oauth_key:this.state.oauthKey?this.state.oauthKey:"",profile_picture_url:this.state.fbPictureUrl?this.state.fbPictureUrl:"",location:this.state.location,user_name:this.state.fbEmail?this.state.fbEmail:"",web:!0,device_token:"ABCDEF"};this.setState({showLoader:!0}),this.props.userSocialRegister(a)}else this.setState({fbEmailErorr:"fieldError"})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement($.a,{active:this.state.showLoader,spinner:o.a.createElement(ae.a,{color:"#fb556b"}),text:"Loading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-sm-12 col-xl-6 px-0 left-text"},o.a.createElement("section",{className:"login-left-box"},o.a.createElement("div",{className:"login-box-inner"},o.a.createElement("div",{className:"display-block logo-box mb-4"},o.a.createElement("img",{src:"img/logo-color-2.png",onClick:this.redirectUserDashboard}),o.a.createElement("span",{className:"catch"},"CatchApp")),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"display-block"},o.a.createElement("span",{className:this.state.emailError?"input-border fieldError":"input-border"},o.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"}),o.a.createElement("input",{type:"text",placeholder:"Username or email",name:"email",value:this.state.email,onChange:this.handleInputChange}))),o.a.createElement("div",{className:"display-block"},o.a.createElement("span",{className:this.state.passError?"input-border fieldError":"input-border"},o.a.createElement("img",{src:"img/lock.png"}),o.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleInputChange}))),o.a.createElement("div",{className:"display-block",style:{clear:"left"}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-6 col-sm-6 col-6 remembr-box"},o.a.createElement("label",{className:"container-checkbox"},o.a.createElement("span",{className:"rm-text"},"Remember me"),o.a.createElement("input",{type:"checkbox",name:"rememberMe",onChange:this.handleInputChange,checked:!!this.state.rememberMe&&"checked"}),o.a.createElement("span",{className:"checkmark"}))),o.a.createElement("div",{className:"col-xl-6 col-sm-6 col-6 login-btn-box"},o.a.createElement("button",{type:"submit",className:"btn login-btn float-right"},"LOGIN"))))),o.a.createElement("div",{className:"display-block"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-6 col-sm-6 col-6 register-txt"},o.a.createElement("a",{onClick:this.redirectSignup},"Register now")),o.a.createElement("div",{className:"col-xl-6 col-sm-6 col-6 forgot-txt text-right"},o.a.createElement("a",{onClick:this.redirectForgetPassword},"Forgot password?")))),o.a.createElement("div",{className:"display-block text-center or"},o.a.createElement("span",null,"or")),o.a.createElement("div",{className:"display-block"},o.a.createElement(V.a,{appId:"2492883237611590",autoLoad:!1,fields:"name,email,picture",callback:this.handleFBLogin,cssClass:"my-facebook-button-class btn btn-fb",icon:"fa-facebook"})),o.a.createElement("div",{className:"display-block"},o.a.createElement(ce.a,{clientId:"38739005846-2mi6s38na46fb1lbes4ba9b8bko14eqg.apps.googleusercontent.com",onSuccess:this.responseGoogle,onFailure:this.failGoogle,className:"google-btn w-100 btn",buttonText:"Login with Google"}))))),o.a.createElement("div",{className:"col-12 col-sm-12 col-xl-6 px-0 right-img"},o.a.createElement("section",{className:"login-right-box"},o.a.createElement("div",{className:"login-box-inner"},o.a.createElement("img",{src:"img/right-img-min.png"})))),this.state.showMe&&o.a.createElement("div",{className:"modal fade",id:"addclub",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("button",{type:"button",className:"close text-right","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.dismissModal()}},o.a.createElement("span",{"aria-hidden":"true"},o.a.createElement("img",{src:"img/close.png"}))),o.a.createElement("div",{className:"modal-header text-center"},o.a.createElement("h5",Object(S.a)({className:"modal-title",id:"exampleModalLabel"},"className","new-club"),"Email required for register")),o.a.createElement("div",{className:"modal-body"},o.a.createElement("div",{className:"display-block type-something"},o.a.createElement("input",{className:this.state.fbEmailErorr?"form-control fieldError":"form-control",placeholder:"Email",value:this.state.fbEmail,onChange:this.handleInputChange,name:"fbEmail"}))),o.a.createElement("div",{className:"modal-footer modal-button"},o.a.createElement("div",{className:"add-club-btn"},o.a.createElement("button",{type:"button",className:"btn mb-4",onClick:function(a){return e.handleFbSubmit(a)}},"Submit")))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,a){e.exportEmptyData();var t={};if(void 0!==e.userData&&e.userData!==a.userData)return t.errorMessagePass="",t.passError="",t.showLoader=!1,1==a.rememberMe&&(localStorage.setItem("userEmail",e.userData.email),localStorage.setItem("userSession",a.rememberMe)),e.history.push("/"),t;if(void 0!==e.errorData&&1==e.errorData.error&&e.errorData!==a.errorData)return t.errorMessagePass=e.errorData.message?e.errorData.message:"",t.showLoader=!1,X.b.error(t.errorMessagePass),t;if(void 0!==e.emailData&&e.emailData!==a.emailData){if(t.emailFound=e.emailData?e.emailData.status:"",t.showLoader=!1,0!=e.emailData.status&&1!=e.emailData.status||(t.showMe=!0),2==e.emailData.status){t.showMe=!1;var r={client_id:a.clientId?a.clientId:"",first_name:a.fbFirstname?a.fbFirstname:"",last_name:a.fbLastname?a.fbLastname:"",email:e.emailData.email?e.emailData.email:"",register_type:"2",oauth_key:a.oauthKey?a.oauthKey:"",profile_picture_url:a.fbPictureUrl?a.fbPictureUrl:"",location:a.location,user_name:e.emailData.email?e.emailData.email:"",web:!0,device_token:"ABCDEF"};t.showLoader=!0,e.userSocialRegister(r)}return t}return null}}]),a}(s.Component),pe=Object(E.b)((function(e){var a={};if("USER_LOGIN"===e.LoginReducer.action){if(!1!==e.LoginReducer.Logindata.error)a.errorData=e.LoginReducer.Logindata,a.errorDate=new Date;else{var t=e.LoginReducer.Logindata.data;a.userData=e.LoginReducer.Logindata.data,localStorage.setItem("userData",JSON.stringify(t)),localStorage.setItem("isLoggedIn",1)}return a}if("USER_SOCIAL_LOGIN"===e.LoginReducer.action){if(!1!==e.LoginReducer.Logindata.error)a.errorData=e.LoginReducer.Logindata,a.errorDate=new Date;else{var r=e.LoginReducer.Logindata.data;a.userData=e.LoginReducer.Logindata.data,localStorage.setItem("userData",JSON.stringify(r)),localStorage.setItem("isLoggedIn",1)}return a}if("USER_CHECK_EMAIL"===e.LoginReducer.action)return void 0==e.LoginReducer.data||(a.emailData=e.LoginReducer.data),a;if("USER_SOCIAL_REGISTER"===e.LoginReducer.action){if(!1!==e.LoginReducer.data.error)a.errorData=e.LoginReducer.data,a.errorDate=new Date;else{var s=e.LoginReducer.data.data;a.userData=e.LoginReducer.data.data,localStorage.setItem("userData",JSON.stringify(s)),localStorage.setItem("isLoggedIn",1)}return a}if("USER_REGISTER"===e.LoginReducer.action){var o={};if(!1!==e.LoginReducer.data.error)o.errorData=e.LoginReducer.data,o.errorDate=new Date;else{var l=e.LoginReducer.data.data;o.userData=e.LoginReducer.data.data,localStorage.setItem("userData",JSON.stringify(l)),localStorage.setItem("isLoggedIn",1)}return o}return{loginMessage:""}}),(function(e){return Object(c.b)({userSignInRequest:T,userSocialLogin:B,exportEmptyData:q,userCheckEmail:K,userRegister:A,userSocialRegister:W},e)}))(Object(v.g)(ue)),he=function(e){function a(e){var t;Object(y.a)(this,a),(t=Object(D.a)(this,Object(w.a)(a).call(this,e))).handleInputChange=function(e){var a=e.target.value;t.setState(Object(S.a)({},e.target.name,a))},t.handleSubmit=function(e){if(e.preventDefault(),ie()){var a=!1;if(t.setState({loggingIn:!0}),void 0==typeof t.state.email||null==t.state.email||""==t.state.email.trim())return t.setState({emailError:"fieldError"}),void(a=!0);if(!C.a.isEmail(t.state.email))return a=!0,t.setState({emailError:"fieldError"}),void X.b.error("Incorrect email address!");if(!0===a)return void t.setState({loggingIn:!1});var r={email:t.state.email,web:!0};t.setState({showLoader:!0}),"dj"==t.state.userType&&t.props.forgetPassword(r),"user"==t.state.userType&&t.props.userForgetPassword(r)}},t.redirectLogin=function(){return"user"==t.state.userType?o.a.createElement("div",null,t.props.history.push("/user-login")):"dj"==t.state.userType?o.a.createElement("div",null,t.props.history.push("/dj-login")):void 0},t.redirectRegister=function(){return"user"==t.state.userType?o.a.createElement("div",null,t.props.history.push("/register")):"dj"==t.state.userType?o.a.createElement("div",null,t.props.history.push("/sign-up")):void 0},t.redirectToDashboard=function(){return o.a.createElement("div",null,t.props.history.push("/"))};var r=localStorage.getItem("user-type");return t.state=Object(S.a)({emailError:"",errorMessageEmail:"",userType:r,showLoader:!1,email:""},"userType",r||""),t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"componentDidMount",value:function(){""==this.state.userType&&this.props.history.push("/")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement($.a,{active:this.state.showLoader,spinner:o.a.createElement(ae.a,{color:"#fb556b"}),text:"Loading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-sm-12 col-xl-6 col-md-12 col-lg-6 px-0 left-text"},o.a.createElement("section",{className:"login-left-box"},o.a.createElement("div",{className:"login-box-inner"},o.a.createElement("div",{className:"display-block logo-box mb-4"},o.a.createElement("img",{src:"dj"==this.state.userType?"img/logo-color.png":"img/logo-color-2.png",onClick:this.redirectToDashboard}),o.a.createElement("span",{className:"catch"},"dj"==this.state.userType?"Catch Dj":"CatchApp")),o.a.createElement("div",{className:"display-block logo-box mb-4"},o.a.createElement("span",null,"Enter your email and we'll send you a link to get back into your account.")),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"display-block"},o.a.createElement("span",{className:this.state.emailError?"input-border fieldError":"input-border"},o.a.createElement("i",{className:"fa fa-envelope","aria-hidden":"true"}),o.a.createElement("input",{type:"email",placeholder:"Email",name:"email",value:this.state.email,onChange:this.handleInputChange}))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement("div",{className:"display-block"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-12 col-sm-12  col-12 text-center send-link"},o.a.createElement("button",{type:"submit",className:"btn login-btn"},"SEND LINK"))))))),o.a.createElement("hr",null),o.a.createElement("div",{className:"display-block"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-6 col-sm-6 col-6 register-txt"},o.a.createElement("a",{onClick:this.redirectRegister},"Register now")),o.a.createElement("div",{className:"col-xl-6 col-sm-6 col-6 register-txt text-right"},o.a.createElement("a",{onClick:this.redirectLogin},"Login"))))))),o.a.createElement("div",{className:"col-12 col-sm-12 col-xl-6 col-md-12 col-lg-6 px-0 right-img"},o.a.createElement("section",{className:"login-right-box forget-image"},o.a.createElement("div",{className:"login-box-inner"},o.a.createElement("img",{src:"img/right-img.png"})))))))}}],[{key:"getDerivedStateFromProps",value:function(e,a){e.exportEmptyData();var t={};return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:void 0!==e.userData&&e.userData!==a.userData?(t.userDate=e.userDate,t.errorMessageEmail=e.userData?e.userData.data:"",t.successMessage=e.userData?e.userData.message:"",t.errorMessageEmail&&(X.b.success(t.errorMessageEmail),t.email="",e.history.push("/dj-login")),t.successMessage&&(t.email="",X.b.success(t.successMessage),e.history.push("/user-login")),t.showLoader=!1,t):void 0!==e.errorData&&1==e.errorData.error&&e.errorData!==a.errorData?(t.errorMessageEmail=e.errorData.message?e.errorData.message:"",t.showLoader=!1,X.b.error(t.errorMessageEmail),t.errorDate=e.errorDate,t):null}}]),a}(s.Component),ge=Object(E.b)((function(e){var a={};return"FORGET_PASSWORD"===e.LoginReducer.action||"USER_FORGET_PASSWORD"===e.LoginReducer.action?(!1!==e.LoginReducer.data.error?(a.errorData=e.LoginReducer.data,a.errorDate=new Date):(a.userData=e.LoginReducer.data,a.userDate=new Date),a):{loginMessage:""}}),(function(e){return Object(c.b)({userForgetPassword:F,forgetPassword:P,exportEmptyData:q},e)}))(Object(v.g)(he)),fe=function(e){function a(e){var t;Object(y.a)(this,a);var r=localStorage.getItem("user-type");return(t=Object(D.a)(this,Object(w.a)(a).call(this,e))).handleInputChange=function(e){var a,r=e.target,s="checkbox"===r.type?r.checked:r.value;t.setState((a={},Object(S.a)(a,e.target.name,s),Object(S.a)(a,"errorMessagePass",""),a))},t.handleSubmit=function(e){e.preventDefault();var a=localStorage.getItem("user-type");if(ie()){var r=!1;if(t.setState({passError:"",errorMessagePass:""}),void 0===typeof t.state.password||null===t.state.password||""===t.state.password)return t.setState({passError:"fieldError"}),void(r=!0);if(r=!1,t.setState({errorMessagePass:"",passError:""}),void 0===typeof t.state.confirmPassword||null===t.state.confirmPassword||""===t.state.confirmPassword)return t.setState({conPassError:"fieldError"}),void(r=!0);if(r=!1,t.setState({errorMessagePass:"",conPassError:""}),t.state.confirmPassword!==t.state.password)return X.b.error("Password not matched!"),r=!0,void t.setState({conPassError:"fieldError",passError:"fieldError"});if(r=!1,t.setState({errorMessagePass:"",passError:""}),t.state.password&&t.state.password.length<8)return X.b.error("Passwords must be at least 8 characters"),r=!0,void t.setState({passError:"fieldError"});if(!0===r)return void t.setState({loggingIn:!1});var s={password:t.state.password,token:t.props.match.params?t.props.match.params.token:""};t.setState({showLoader:!0}),"dj"==a?t.props.resPassword(s):t.props.userResPassword(s)}},t.redirectLogin=function(){return o.a.createElement("div",null,t.props.history.push("/"))},t.state={passError:"",errorMessagePass:"",password:"",confirmPassword:"",token:t.props.match.params.token?t.props.match.params.token:"",showLoader:!1,userType:r||"",userData:{}},t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"componentDidMount",value:function(){this.state.token||(window.location.href="/")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement($.a,{active:this.state.showLoader,spinner:o.a.createElement(ae.a,{color:"#fb556b"}),text:"Loading"}," ",o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-sm-12 col-xl-6 px-0 left-text"},o.a.createElement("section",{className:"login-left-box"},o.a.createElement("div",{className:"login-box-inner"},o.a.createElement("div",{className:"display-block logo-box mb-4"},o.a.createElement("img",{src:"dj"==this.state.userType?"img/logo-color.png":"img/logo-color-2.png"}),o.a.createElement("span",{className:"catch"},"dj"==this.state.userType?"Catch Dj":"CatchApp")),o.a.createElement("div",{className:"display-block logo-box mb-4 text-center"},o.a.createElement("span",null,"Reset Password")),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"display-block"},o.a.createElement("span",{className:this.state.passError?"input-border fieldError":"input-border"},o.a.createElement("i",{className:"fa fa-lock","aria-hidden":"true"}),o.a.createElement("input",{type:"password",placeholder:"New Password",name:"password",value:this.state.password,onChange:this.handleInputChange}))),o.a.createElement("div",{className:"display-block"},o.a.createElement("span",{className:this.state.conPassError?"input-border fieldError":"input-border"},o.a.createElement("i",{className:"fa fa-lock","aria-hidden":"true"}),o.a.createElement("input",{type:"password",placeholder:"Confirm Password",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleInputChange}))),o.a.createElement("div",{className:"display-block"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-12 col-sm-12 col-12 text-center"},o.a.createElement("button",{type:"submit",className:"btn login-btn"},"Reset Password"))))),o.a.createElement("hr",null),o.a.createElement("div",{className:"display-block"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-12 col-sm-12 col-12 register-txt text-center"},o.a.createElement("a",{onClick:this.redirectLogin},"Login"))))))),o.a.createElement("div",{className:"col-12 col-sm-12 col-xl-6 px-0 right-img"},o.a.createElement("section",{className:"login-right-box"},o.a.createElement("div",{className:"login-box-inner"},o.a.createElement("img",{src:"img/right-img.png"})))))))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var t={};return void 0!=e.showLoader&&0==e.showLoader?{showLoader:!1}:(void 0!==e.userData&&e.userData!==a.userData&&(t.showLoader=!1,X.b.success(e.userData.message),"dj"==a.userType&&e.history.push("/dj-login"),"user"==a.userType&&e.history.push("/user-login")),void 0!==e.errorData&&e.errorData!==a.errorData?(e.exportEmptyData(),X.b.error("Server error, Please try again!"),t.showLoader=!1,t):null)}}]),a}(s.Component),be=Object(E.b)((function(e){if("RESET_PASSWORD"===e.LoginReducer.action){var a={};return!1!==e.LoginReducer.data.error?(a.errorData=e.LoginReducer.data,a.errorDate=new Date):(a.userData=e.LoginReducer.data,a.userDate=new Date),a}if("USER_RESET_PASSWORD"===e.LoginReducer.action){var t={};return!1!==e.LoginReducer.data.error?(t.errorData=e.LoginReducer.data,t.errorDate=new Date):(t.userData=e.LoginReducer.data,t.userDate=new Date),t}return{loginMessage:""}}),(function(e){return Object(c.b)({resPassword:U,userResPassword:G,exportEmptyData:q},e)}))(Object(v.g)(fe)),Ee=t(143),ve=t.n(Ee),Se=(t(300),function(e){function a(e){var t;return Object(y.a)(this,a),(t=Object(D.a)(this,Object(w.a)(a).call(this,e))).handleInputChange=function(e){var a=e.target,r=a.value;switch(a.type){case"checkbox":r=a.checked;break;case"radio":r="male"==a.value?"male":"female"}t.setState(Object(S.a)({},e.target.name,r))},t.handleSubmit=function(e){if(e.preventDefault(),ie()){var a=!1;if(t.setState({emailError:"",passwordError:"",userNameError:"",loggingIn:!0}),void 0===typeof t.state.name||null===t.state.name||""===t.state.name?(t.setState({nameError:"fieldError"}),a=!0):(a=!1,t.setState({errorMessageName:"",nameError:""})),void 0!=typeof t.state.email&&null!=t.state.email&&""!=t.state.email||(t.setState({emailError:"fieldError"}),a=!0),void 0===typeof t.state.userName||null===t.state.userName||""===t.state.userName?(t.setState({userNameError:"fieldError"}),a=!0):(a=!1,t.setState({errorMessageUserName:"",userNameError:""})),void 0===typeof t.state.password||null===t.state.password||""===t.state.password?(t.setState({passError:"fieldError"}),a=!0):(a=!1,t.setState({errorMessagePass:"",passError:""})),void 0===typeof t.state.birthday||null===t.state.birthday||""===t.state.birthday?(t.setState({birthdayError:"fieldError"}),a=!0):(a=!1,t.setState({errorMessageBirthday:"",birthdayError:""})),t.state.password&&t.state.password.length<8)return X.b.error("Passwords must be at least 8 characters"),a=!0,void t.setState({passError:"fieldError"});if(t.state.userName&&t.state.userName.length<6)return X.b.error("Username must be at least 6 characters"),a=!0,void t.setState({userNameError:"fieldError"});if(!0===a)return void t.setState({loggingIn:!1});if(!C.a.isEmail(t.state.email))return X.b.error("Incorrect email address!"),t.setState({emailError:"fieldError"}),void(a=!0);var r={email:t.state.email,password:t.state.password,name:t.state.name,user_name:t.state.userName,birth_date:t.state.birthday,gender:t.state.userGender,registeration_type:"7",device_token:"ABCDEF"};0==a&&(localStorage.setItem("location",JSON.stringify(t.state.location.trim())),t.setState({showLoader:!0}),t.props.userSignUpRequest(r))}},t.handleChange=function(e){t.setState({birthday:e})},t.handleFBLogin=function(e){var a={};if(e){if(""==e.email||void 0==e.email||null==e.email)return t.setState({clientId:e.userID?e.userID:"",fbName:e.name?e.name:"",fbEmail:e.email?e.email:t.state.fbEmail,oauthKey:e.accessToken?e.accessToken:"",fbPictureUrl:e.picture?e.picture.data.url:"",user_name:e.email?e.email:t.state.fbEmail,fbGender:""}),a={client_id:e.userID?e.userID:"",registration_type:"2"},t.setState({showLoader:!0}),void t.props.checkEmail(a);a={client_id:e.userID?e.userID:"",name:e.name?e.name:"",email:e.email?e.email:t.state.fbEmail,registeration_type:"2",oauth_key:e.accessToken?e.accessToken:"",profile_picture_url:e.picture?e.picture.data.url:"",location:t.state.location,user_name:e.email?e.email:e.userID,web:!0},t.setState({showLoader:!0}),t.props.djSocialRegister(a)}else X.b.error("Facebook error, please try again later!")},t.fbSubmit=function(){var e={client_id:t.state.clientId?t.state.clientId:"",name:t.state.fbName?t.state.fbName:"",email:t.state.fbEmail?t.state.fbEmail:"",registeration_type:"2",oauth_key:t.state.oauthKey?t.state.oauthKey:"",profile_picture_url:t.state.fbPictureUrl?t.state.fbPictureUrl:"",location:t.state.location,user_name:t.state.fbEmail?t.state.fbEmail:"",web:!0};t.setState({showLoader:!0,emailFound:""}),t.props.djSocialRegister(e)},t.dismissModal=function(){t.setState({showMe:!1,emailFound:"",clientId:"",fbName:"",fbEmail:"",oauthKey:"",fbPictureUrl:"",userName:"",fbGender:"",fbEmailErorr:""}),X.b.error("Registration Cancelled!")},t.redirectToLogin=function(){return o.a.createElement("div",null,t.props.history.push("/dj-login"))},t.responseGoogle=function(e){if(ie()){var a={};e?(a={client_id:e.googleId?e.googleId:"",name:e.profileObj?e.profileObj.name:"",email:e.profileObj?e.profileObj.email:"",registeration_type:"3",oauth_key:e.accessToken?e.accessToken:"",profile_picture_url:e.profileObj?e.profileObj.imageUrl:"",location:t.state.location,user_name:e.profileObj?e.profileObj.email:e.profileObj.userID,web:!0},t.setState({showLoader:!0}),t.props.djSocialRegister(a)):X.b.error("Google error, please try again later!")}},t.failGoogle=function(){X.b.error("Google error, please try again later!")},localStorage.setItem("user-type","dj"),t.state={email:"",password:"",emailError:"",passError:"",nameError:"",passwordError:"",loggingIn:!1,errorMessageEmail:"",errorMessagePass:"",errorMessageName:"",name:"",userGender:"male",birthday:"",location:"",userName:"",userNameError:"",errorMessageUserName:"",birthdayError:"",errorMessageBirthday:"",showLoader:!1,profileImage:"",showMe:!1,fbEmail:"",emailFound:""},t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(a){var t=a.coords,r=t.longitude,s=t.latitude,o={lang:r,lati:s};Z.a.setApiKey("AIzaSyAOosj6Hg1fpweT-KC4FmbzOeZyuhzwdvw"),Z.a.setLanguage("en"),Z.a.setRegion("es"),Z.a.enableDebug(),Z.a.fromLatLng(s,r).then((function(a){var t=a.results[0].formatted_address.split(","),r=t[t.length-3];e.setState({location:r})}),(function(e){})),localStorage.setItem("placeData",JSON.stringify(o))})):console.error("Geolocation is not supported by this browser!")}},{key:"handleFbSubmit",value:function(e){if(e.preventDefault(),""!=this.state.fbEmail&&void 0!=this.state.fbEmail&&null!=this.state.fbEmail&&""!=this.state.fbEmail.trim()){var a={client_id:this.state.clientId?this.state.clientId:"",name:this.state.fbName?this.state.fbName:"",email:this.state.fbEmail?this.state.fbEmail:"",registeration_type:"2",oauth_key:this.state.oauthKey?this.state.oauthKey:"",profile_picture_url:this.state.fbPictureUrl?this.state.fbPictureUrl:"",location:this.state.location,user_name:this.state.fbEmail?this.state.fbEmail:"",web:!0};this.setState({showLoader:!0}),this.props.djSocialRegister(a)}else this.setState({fbEmailErorr:"fieldError"})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement($.a,{active:this.state.showLoader,spinner:o.a.createElement(ae.a,{color:"#fb556b"}),text:"Loading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-sm-12 col-xl-6 px-0 left-text"},o.a.createElement("section",{className:"login-left-box"},o.a.createElement("div",{className:"login-box-inner signup-inner"},o.a.createElement("div",{className:"display-block logo-box mb-4 text-center"},o.a.createElement("img",{src:"img/logo-color.png",onClick:this.redirectToLogin})," ",o.a.createElement("span",{className:"catch"},"Catch Dj")),o.a.createElement("div",{className:"display-block logo-box mb-4 text-center"},o.a.createElement("span",null,"Create Your Catch DJ Account")),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-6 col-md-6 col-12 col-sm-12"},o.a.createElement("span",{className:this.state.nameError?"input-border fieldError":"input-border"},o.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"}),o.a.createElement("input",{type:"text",placeholder:"Name",name:"name",value:this.state.name,onChange:this.handleInputChange,autoComplete:"off"}))),o.a.createElement("div",{className:"col-xl-6 col-md-6 col-12 col-sm-12"},o.a.createElement("span",{className:this.state.emailError?"input-border fieldError":"input-border"},o.a.createElement("i",{className:"fa fa-envelope","aria-hidden":"true"}),o.a.createElement("input",{type:"text",placeholder:"Email",name:"email",value:this.state.email,onChange:this.handleInputChange,autoComplete:"off"})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-6 col-md-6 col-12 col-sm-12"},o.a.createElement("span",{className:this.state.userNameError?"input-border fieldError":"input-border"},o.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"}),o.a.createElement("input",{type:"text",placeholder:"Username",name:"userName",value:this.state.userName,onChange:this.handleInputChange,autoComplete:"off"}))),o.a.createElement("div",{className:"col-xl-6 col-md-6 col-12 col-sm-12"},o.a.createElement("span",{className:this.state.passError?"input-border fieldError":"input-border"},o.a.createElement("img",{src:"img/lock.png"}),o.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleInputChange,autoComplete:"off"})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-6 col-md-6 col-12 col-sm-12"},o.a.createElement("span",{className:this.state.birthdayError?"input-border fieldError":"input-border"},o.a.createElement("i",{className:"fa fa-calendar","aria-hidden":"true"}),o.a.createElement(ve.a,{value:this.state.birthday,selected:this.state.birthday,onChange:this.handleChange,maxDate:new Date,placeholderText:"Date of Birth"}))),o.a.createElement("div",{className:"col-xl-6 col-md-6 col-12 col-sm-12 sign-up-radio"},o.a.createElement("label",{className:"container-radio"},"Male",o.a.createElement("input",{type:"radio",checked:"male"==this.state.userGender&&"checked",id:"gender0",name:"userGender",value:"male",onChange:this.handleInputChange}),o.a.createElement("span",{className:"checkmark-radio"})),o.a.createElement("label",{className:"container-radio female"},"Female",o.a.createElement("input",{type:"radio",name:"userGender",id:"gender1",checked:"female"==this.state.userGender&&"checked",value:"female",onChange:this.handleInputChange}),o.a.createElement("span",{className:"checkmark-radio"})))),o.a.createElement("div",{className:"display-block"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-12 col-sm-12 col-12 login-btn-box text-center"},o.a.createElement("button",{type:"submit",className:"btn login-btn"},"Create Account"))))),o.a.createElement("div",{className:"display-block"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-12 text-center col-sm-12 col-12 register-txt"},o.a.createElement("a",{onClick:this.redirectToLogin},"Login")))),o.a.createElement("div",{className:"display-block text-center or"},o.a.createElement("span",null,"or")),o.a.createElement("div",{className:"display-block text-center"},o.a.createElement(V.a,{appId:"2492883237611590",autoLoad:!1,fields:"name,email,picture",callback:this.handleFBLogin,cssClass:"my-facebook-button-class btn btn-fb w-75",icon:"fa-facebook"})),o.a.createElement("div",{className:"display-block text-center"},o.a.createElement(ce.a,{clientId:"38739005846-2mi6s38na46fb1lbes4ba9b8bko14eqg.apps.googleusercontent.com",onSuccess:this.responseGoogle,onFailure:this.failGoogle,className:"google-btn w-75 btn",buttonText:"Login with Google"}))))),o.a.createElement("div",{className:"col-12 col-sm-12 col-xl-6 px-0 right-img"},o.a.createElement("section",{className:"login-right-box"},o.a.createElement("div",{className:"login-box-inner"},o.a.createElement("img",{src:"img/right-img-min.png"})))),this.state.showMe&&o.a.createElement("div",{className:"modal fade",id:"addclub",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("button",{type:"button",className:"close text-right","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.dismissModal()}},o.a.createElement("span",{"aria-hidden":"true"},o.a.createElement("img",{src:"img/close.png"}))),o.a.createElement("div",{className:"modal-header text-center"},o.a.createElement("h5",Object(S.a)({className:"modal-title",id:"exampleModalLabel"},"className","new-club"),"Email required for register")),o.a.createElement("div",{className:"modal-body"},o.a.createElement("div",{className:"display-block type-something"},o.a.createElement("input",{className:this.state.fbEmailErorr?"form-control fieldError":"form-control",placeholder:"Email",value:this.state.fbEmail,onChange:this.handleInputChange,name:"fbEmail"}))),o.a.createElement("div",{className:"modal-footer modal-button"},o.a.createElement("div",{className:"add-club-btn"},o.a.createElement("button",{type:"button",className:"btn mb-4",onClick:function(a){return e.handleFbSubmit(a)}},"Submit")))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,a){e.exportEmptyData();var t={};if(void 0!==e.userData&&e.userData!==a.userData)return t.userDate=e.userDate,t.showMe=!1,e.history.push("/dashboard"),t;if(void 0!==e.errorData&&1==e.errorData.error&&e.errorData!==a.errorData&&e.errorDate!==a.errorDate)return t.errorMessageEmail=e.errorData.message?e.errorData.message:"",X.b.error(t.errorMessageEmail),t.errorDate=e.errorDate,t.showLoader=!1,t;if(void 0!==e.emailData&&e.emailData!==a.emailData){if(t.emailFound=e.emailData?e.emailData.status:"",t.showLoader=!1,0!=e.emailData.status&&1!=e.emailData.status||(t.showMe=!0),2==e.emailData.status){t.showMe=!1;var r={client_id:a.clientId?a.clientId:"",name:a.fbName?a.fbName:"",email:e.emailData.email?e.emailData.email:"",registeration_type:"2",oauth_key:a.oauthKey?a.oauthKey:"",profile_picture_url:a.fbPictureUrl?a.fbPictureUrl:"",location:"",user_name:e.emailData.email?e.emailData.email:"",web:!0};t.showLoader=!0,e.djSocialRegister(r)}return t}return null}}]),a}(s.Component)),ye=Object(E.b)((function(e){var a={};if("REGISTER"===e.LoginReducer.action){if(!1!==e.LoginReducer.data.error)a.errorData=e.LoginReducer.data,a.errorDate=new Date;else{var t=e.LoginReducer.data.data;a.userData=e.LoginReducer.data.data,localStorage.setItem("userData",JSON.stringify(t)),localStorage.setItem("isLoggedIn",1)}return a}if("CHECK_EMAIL"===e.LoginReducer.action)return void 0==e.LoginReducer.data||(a.emailData=e.LoginReducer.data),a;if("DJ_SOCIAL_REGISTER"===e.LoginReducer.action){if(!1!==e.LoginReducer.data.error)a.errorData=e.LoginReducer.data,a.errorDate=new Date;else{var r=e.LoginReducer.data.data;a.userData=e.LoginReducer.data.data,localStorage.setItem("userData",JSON.stringify(r)),localStorage.setItem("isLoggedIn",1)}return a}return{loginMessage:""}}),(function(e){return Object(c.b)({userSignUpRequest:M,exportEmptyData:q,djSocialRegister:H,checkEmail:J},e)}))(Object(v.g)(Se)),Ne=function(e){function a(e){var t;return Object(y.a)(this,a),(t=Object(D.a)(this,Object(w.a)(a).call(this,e))).handleInputChange=function(e){var a=e.target,r=a.value;switch(a.type){case"checkbox":r=a.checked;break;case"radio":r="male"==a.value?"male":"female"}t.setState(Object(S.a)({},e.target.name,r))},t.handleSubmit=function(e){if(e.preventDefault(),ie()){var a=!1;if(t.setState({emailError:"",passwordError:"",userNameError:"",loggingIn:!0}),void 0==typeof t.state.firstname||null==t.state.firstname||""==t.state.firstname?(t.setState({firstnameError:"fieldError"}),a=!0):(a=!1,t.setState({firstnameError:""})),void 0!==typeof t.state.email&&null!==t.state.email&&""!==t.state.email||(t.setState({emailError:"fieldError"}),a=!0),void 0!=typeof t.state.userName&&null!=t.state.userName&&""!=t.state.userName.trim()||(t.setState({userNameError:"fieldError"}),a=!0),void 0===typeof t.state.password||null===t.state.password||""===t.state.password?(t.setState({passError:"fieldError"}),a=!0):(t.setState({passError:""}),a=!1),void 0===typeof t.state.birthday||null===t.state.birthday||""===t.state.birthday?(t.setState({birthdayError:"fieldError"}),a=!0):(t.setState({birthdayError:""}),a=!1),C.a.isEmail(t.state.email)||t.setState({emailError:"fieldError"}),t.state.password&&t.state.password.length<8)return X.b.error("Passwords must be at least 8 characters"),a=!0,void t.setState({passError:"fieldError"});if(t.state.userName&&t.state.userName.length<6)return X.b.error("Username must be at least 6 characters"),a=!0,void t.setState({userNameError:"fieldError"});if(!0===a)return void t.setState({loggingIn:!1});if(!C.a.isEmail(t.state.email))return X.b.error("Incorrect email address!"),t.setState({emailError:"fieldError"}),void(a=!0);var r={first_name:t.state.firstname,last_name:t.state.lastname?t.state.lastname:"",email:t.state.email,password:t.state.password,name:t.state.name,user_name:t.state.userName,birth_date:t.state.birthday,gender:t.state.userGender,register_type:"7",location:t.state.location,device_token:"ABCDEF"};localStorage.setItem("location",JSON.stringify(t.state.location.trim())),t.setState({showLoader:!0}),t.props.userRegister(r)}},t.redirectToLogin=function(){return o.a.createElement("div",null,t.props.history.push("/user-login"))},t.handleChange=function(e){t.setState({birthday:e})},t.handleFBLogin=function(e){var a={};if(e){if(""==e.email||void 0==e.email||null==e.email)return t.setState({clientId:e.userID?e.userID:"",fbFirstname:e.name?e.name.split(" ").slice(0,-1).join(" "):"",fbLastname:e.name?e.name.split(" ").slice(-1).join(" "):"",fbEmail:e.email?e.email:t.state.fbEmail,oauthKey:e.accessToken?e.accessToken:"",fbPictureUrl:e.picture?e.picture.data.url:"",userName:e.email?e.email:t.state.fbEmail}),a={client_id:e.userID?e.userID:"",registration_type:"2"},t.setState({showLoader:!0}),void t.props.userCheckEmail(a);a={client_id:e.userID?e.userID:"",first_name:e.name?e.name.split(" ").slice(0,-1).join(" "):"",last_name:e.name?e.name.split(" ").slice(-1).join(" "):"",email:e.email?e.email:t.state.fbEmail,register_type:"2",oauth_key:e.accessToken?e.accessToken:"",profile_picture_url:e.picture?e.picture.data.url:"",location:t.state.location,user_name:e.email?e.email:e.userID,device_token:"ABCDEF",web:!0},t.setState({showLoader:!0}),t.props.userSocialRegister(a)}else X.b.error("Facebook error, please try again later!")},t.responseGoogle=function(e){if(ie()){var a={};e?(a={client_id:e.googleId?e.googleId:"",first_name:e.profileObj?e.profileObj.name.split(" ").slice(0,-1).join(" "):"",last_name:e.profileObj?e.profileObj.name.split(" ").slice(-1).join(" "):"",email:e.profileObj?e.profileObj.email:"",register_type:"3",oauth_key:e.accessToken?e.accessToken:"",profile_picture_url:e.profileObj?e.profileObj.imageUrl:"",location:t.state.location,user_name:e.profileObj?e.profileObj.email:e.profileObj.userID,web:!0,device_token:"ABCDEF"},t.setState({showLoader:!0}),t.props.userSocialRegister(a)):X.b.error("Google error, please try again later!")}},t.failGoogle=function(){X.b.error("Google error, please try again later!"),t.setState({})},t.dismissModal=function(){t.setState({showMe:!1,emailFound:"",clientId:"",fbName:"",fbEmail:"",oauthKey:"",fbPictureUrl:"",userName:"",fbGender:"",fbEmailErorr:""}),X.b.error("Registration Cancelled!")},localStorage.setItem("user-type","user"),t.state={email:"",password:"",emailError:"",passError:"",nameError:"",passwordError:"",loggingIn:!1,errorMessageEmail:"",errorMessagePass:"",errorMessageName:"",firstname:"",lastname:"",userGender:"male",birthday:"",location:"",userName:"",userNameError:"",errorMessageUserName:"",birthdayError:"",errorMessageBirthday:"",showMe:!1,fbEmail:"",emailFound:""},t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(a){var t=a.coords,r=t.longitude,s=t.latitude,o={lang:r,lati:s};Z.a.setApiKey("AIzaSyAOosj6Hg1fpweT-KC4FmbzOeZyuhzwdvw"),Z.a.setLanguage("en"),Z.a.setRegion("es"),Z.a.enableDebug(),Z.a.fromLatLng(s,r).then((function(a){var t=a.results[0].formatted_address.split(","),r=t[t.length-3];e.setState({location:r})}),(function(e){})),localStorage.setItem("placeData",JSON.stringify(o))})):console.error("Geolocation is not supported by this browser!")}},{key:"handleFbSubmit",value:function(e){if(e.preventDefault(),""!=this.state.fbEmail&&void 0!=this.state.fbEmail&&null!=this.state.fbEmail&&""!=this.state.fbEmail.trim()){var a={client_id:this.state.clientId?this.state.clientId:"",first_name:this.state.fbFirstname?this.state.fbFirstname:"",last_name:this.state.fbLastname?this.state.fbLastname:"",email:this.state.fbEmail?this.state.fbEmail:"",register_type:"2",oauth_key:this.state.oauthKey?this.state.oauthKey:"",profile_picture_url:this.state.fbPictureUrl?this.state.fbPictureUrl:"",location:this.state.location,user_name:this.state.fbEmail?this.state.fbEmail:"",web:!0,device_token:"ABCDEF"};this.setState({showLoader:!0}),this.props.userSocialRegister(a)}else this.setState({fbEmailErorr:"fieldError"})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement($.a,{active:this.state.showLoader,spinner:o.a.createElement(ae.a,{color:"#fb556b"}),text:"Loading"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-sm-12 col-xl-6 px-0 left-text"},o.a.createElement("section",{className:"login-left-box"},o.a.createElement("div",{className:"login-box-inner signup-inner"},o.a.createElement("div",{className:"display-block logo-box mb-4 text-center"},o.a.createElement("img",{src:"img/logo-color-2.png",onClick:this.redirectToLogin})," ",o.a.createElement("span",{className:"catch"},"CatchApp")),o.a.createElement("div",{className:"display-block logo-box mb-4 text-center"},o.a.createElement("span",null,"Create Your Account on CatchApp")),o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-6 col-md-6 col-12 col-sm-12"},o.a.createElement("span",{className:this.state.firstnameError?"input-border fieldError":"input-border"},o.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"}),o.a.createElement("input",{type:"text",placeholder:"First Name",name:"firstname",value:this.state.firstname,onChange:this.handleInputChange,autoComplete:"off"}))),o.a.createElement("div",{className:"col-xl-6 col-md-6 col-12 col-sm-12"},o.a.createElement("span",{className:"input-border"},o.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"}),o.a.createElement("input",{type:"text",placeholder:"Last Name",name:"lastname",value:this.state.lastname,onChange:this.handleInputChange,autoComplete:"off"})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-6 col-md-6 col-12 col-sm-12"},o.a.createElement("span",{className:this.state.emailError?"input-border fieldError":"input-border"},o.a.createElement("i",{className:"fa fa-envelope","aria-hidden":"true"}),o.a.createElement("input",{type:"text",placeholder:"Email",name:"email",value:this.state.email,onChange:this.handleInputChange,autoComplete:"off"}))),o.a.createElement("div",{className:"col-xl-6 col-md-6 col-12 col-sm-12"},o.a.createElement("span",{className:this.state.userNameError?"input-border fieldError":"input-border"},o.a.createElement("i",{className:"fa fa-user","aria-hidden":"true"}),o.a.createElement("input",{type:"text",placeholder:"Username",name:"userName",value:this.state.userName,onChange:this.handleInputChange,autoComplete:"off"})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-6 col-md-6 col-12 col-sm-12"},o.a.createElement("span",{className:this.state.passError?"input-border fieldError":"input-border"},o.a.createElement("img",{src:"img/lock.png"}),o.a.createElement("input",{type:"password",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleInputChange,autoComplete:"off"}))),o.a.createElement("div",{className:"col-xl-6 col-md-6 col-12 col-sm-12"},o.a.createElement("span",{className:this.state.birthdayError?"input-border fieldError":"input-border"},o.a.createElement("i",{className:"fa fa-calendar","aria-hidden":"true"}),o.a.createElement(ve.a,{value:this.state.birthday,selected:this.state.birthday,onChange:this.handleChange,maxDate:new Date,placeholderText:"Date of Birth"})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-6 col-md-6 col-12 col-sm-12 sign-up-radio"},o.a.createElement("label",{className:"container-radio"},"Male",o.a.createElement("input",{type:"radio",checked:"male"==this.state.userGender&&"checked",id:"gender0",name:"userGender",value:"male",onChange:this.handleInputChange}),o.a.createElement("span",{className:"checkmark-radio"})),o.a.createElement("label",{className:"container-radio female"},"Female",o.a.createElement("input",{type:"radio",name:"userGender",id:"gender1",checked:"female"==this.state.userGender&&"checked",value:"female",onChange:this.handleInputChange}),o.a.createElement("span",{className:"checkmark-radio"})))),o.a.createElement("div",{className:"display-block"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-12 col-sm-12 col-12 login-btn-box text-center"},o.a.createElement("button",{type:"submit",className:"btn login-btn"},"Create Account"))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-12 text-center col-sm-12 col-12 register-txt"},o.a.createElement("a",{onClick:this.redirectToLogin},"Login"))),o.a.createElement("div",{className:"display-block text-center or"},o.a.createElement("span",null,"or")),o.a.createElement("div",{className:"display-block text-center"},o.a.createElement(V.a,{appId:"2492883237611590",autoLoad:!1,fields:"name,email,picture",callback:this.handleFBLogin,cssClass:"my-facebook-button-class btn btn-fb w-75",icon:"fa-facebook"})),o.a.createElement("div",{className:"display-block text-center"},o.a.createElement(ce.a,{clientId:"38739005846-2mi6s38na46fb1lbes4ba9b8bko14eqg.apps.googleusercontent.com",onSuccess:this.responseGoogle,onFailure:this.failGoogle,className:"google-btn w-75 btn",buttonText:"Login with Google"}))))),o.a.createElement("div",{className:"col-12 col-sm-12 col-xl-6 px-0 right-img"},o.a.createElement("section",{className:"login-right-box"},o.a.createElement("div",{className:"login-box-inner"},o.a.createElement("img",{src:"img/right-img-min.png"})))),this.state.showMe&&o.a.createElement("div",{className:"modal fade",id:"addclub",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("button",{type:"button",className:"close text-right","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.dismissModal()}},o.a.createElement("span",{"aria-hidden":"true"},o.a.createElement("img",{src:"img/close.png"}))),o.a.createElement("div",{className:"modal-header text-center"},o.a.createElement("h5",Object(S.a)({className:"modal-title",id:"exampleModalLabel"},"className","new-club"),"Email required for register")),o.a.createElement("div",{className:"modal-body"},o.a.createElement("div",{className:"display-block type-something"},o.a.createElement("input",{className:this.state.fbEmailErorr?"form-control fieldError":"form-control",placeholder:"Email",value:this.state.fbEmail,onChange:this.handleInputChange,name:"fbEmail"}))),o.a.createElement("div",{className:"modal-footer modal-button"},o.a.createElement("div",{className:"add-club-btn"},o.a.createElement("button",{type:"button",className:"btn mb-4",onClick:function(a){return e.handleFbSubmit(a)}},"Submit")))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var t={};if(e.exportEmptyData(),void 0!==e.userData&&e.userData!==a.userData)return t.userDate=e.userDate,t.showMe=!1,t.showLoader=!1,X.b.success("Registration Successful!"),e.history.push("/"),t;if(void 0!==e.errorData&&e.errorData!==a.errorData)return t.errorMessageEmail=e.errorData.message?e.errorData.message:"",X.b.error(t.errorMessageEmail),t.showLoader=!1,t;if(void 0!==e.emailData&&e.emailData!==a.emailData){if(t.emailFound=e.emailData?e.emailData.status:"",t.showLoader=!1,0!=e.emailData.status&&1!=e.emailData.status||(t.showMe=!0),2==e.emailData.status){t.showMe=!1;var r={client_id:a.clientId?a.clientId:"",first_name:a.fbFirstname?a.fbFirstname:"",last_name:a.fbLastname?a.fbLastname:"",email:e.emailData.email?e.emailData.email:"",register_type:"2",oauth_key:a.oauthKey?a.oauthKey:"",profile_picture_url:a.fbPictureUrl?a.fbPictureUrl:"",location:a.location?a.location:"Select Location",user_name:e.emailData.email?e.emailData.email:"",web:!0,device_token:"ABCDEF"};t.showLoader=!0,e.userSocialRegister(r)}return t}return null}}]),a}(s.Component),De=Object(E.b)((function(e){var a={};if("USER_REGISTER"===e.LoginReducer.action){if(!1!==e.LoginReducer.data.error)a.errorData=e.LoginReducer.data,a.errorDate=new Date;else{var t=e.LoginReducer.data.data;a.userData=e.LoginReducer.data.data,localStorage.setItem("userData",JSON.stringify(t)),localStorage.setItem("isLoggedIn",1)}return a}if("USER_SOCIAL_REGISTER"===e.LoginReducer.action){if(!1!==e.LoginReducer.data.error)a.errorData=e.LoginReducer.data,a.errorDate=new Date;else{var r=e.LoginReducer.data.data;a.userData=e.LoginReducer.data.data,localStorage.setItem("userData",JSON.stringify(r)),localStorage.setItem("isLoggedIn",1)}return a}return"USER_CHECK_EMAIL"===e.LoginReducer.action?(void 0==e.LoginReducer.data||(a.emailData=e.LoginReducer.data),a):{loginMessage:""}}),(function(e){return Object(c.b)({userRegister:A,exportEmptyData:q,userSocialRegister:W,userCheckEmail:K},e)}))(Object(v.g)(Ne)),we=t(45),_e=t(96),Le=function(e){function a(e){var t;Object(y.a)(this,a),(t=Object(D.a)(this,Object(w.a)(a).call(this,e))).handleRedirect=function(){return"dj"==t.state.userType?o.a.createElement("div",null,t.props.history.push("/dashboard")):"user"==t.state.userType?o.a.createElement("div",null,t.props.history.push("/")):void 0},t.redirectToProfile=function(){return o.a.createElement("div",null,t.props.history.push("/profile"))},t.redirectToLogin=function(){return o.a.createElement("div",null,t.props.history.push("/user-login"))},t.logoutMe=function(){le(),setTimeout((function(){t.props.history.push("/")}),0)},t.redirectToDj=function(){return o.a.createElement("div",null,t.props.history.push("/dj-login"))},t.redirectToAbout=function(){return o.a.createElement("div",null,t.props.history.push("/about-us"))};var r=localStorage.getItem("user-type"),s=JSON.parse(localStorage.getItem("isLoggedIn"));return t.state={userType:r||"",showMe:!1,isLoggedIn:s||0},t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"render",value:function(){var e=localStorage.getItem("user-type"),a=this.props,t=a.userProfile,r=a.userName;return o.a.createElement("div",null,o.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light"},o.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"},o.a.createElement("span",{className:"navbar-toggler-icon"})),o.a.createElement("a",{className:"navbar-brand",onClick:this.handleRedirect},o.a.createElement("img",{className:"logo",src:"dj"==e?"/img/logo.png":"/img/logo-2.png"}),o.a.createElement("span",{className:"logo-txt"},"dj"==e?"Catch DJ":"CatchApp"),o.a.createElement("span",{className:"nightlife"},"Live Nightlife Experience"),o.a.createElement("span",{className:"nightlife desktop-text"},"Live Nightlife Experience")),o.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo02"},o.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},o.a.createElement("li",{className:"nav-item active"})),o.a.createElement("form",{className:"form-inline my-2 my-lg-0"},o.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},0==this.state.isLoggedIn&&o.a.createElement("li",{className:"nav-item "},o.a.createElement("a",{className:"nav-link about-us",onClick:this.redirectToAbout},"About Us")),1==this.state.isLoggedIn&&o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link profile-pic dj-img",onClick:this.redirectToProfile},o.a.createElement("span",{className:"dj-pic"},o.a.createElement("img",{src:t||"https://nwsid.net/wp-content/uploads/2015/05/dummy-profile-pic-300x300.png"})),o.a.createElement("span",{className:"userName"},r))),1==this.state.isLoggedIn&&o.a.createElement("li",{className:"nav-item "},o.a.createElement("a",{className:"nav-link about-us",onClick:this.redirectToAbout},"About Us")),0==this.state.isLoggedIn&&o.a.createElement("li",{className:"nav-item "},o.a.createElement("a",{className:"nav-link login-button",onClick:this.redirectToLogin},"Login  ")),1==this.state.isLoggedIn&&o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link login-button logout-btn",onClick:this.logoutMe},"Logout")),0==this.state.isLoggedIn&&o.a.createElement("li",{className:"nav-item"},o.a.createElement("a",{className:"nav-link dj-btn",onClick:this.redirectToDj},"Are you a DJ?")))))))}}]),a}(s.Component),Ce=Object(v.g)(Le),Ie=(s.Component,function(e){function a(){return Object(y.a)(this,a),Object(D.a)(this,Object(w.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(N.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 copyright text-center"},"Copyright \xa9 2020 ",o.a.createElement("span",{className:"color-footer"},"CatchApp")," | All Rights Reserved"," "))))}}]),a}(s.Component)),Re="https://catchapp.live/catchappdevapi/api/",Oe=R.a.create();Oe.interceptors.response.use((function(e){return e.data,e}),(function(e){if(e.response){if(500==e.response.status)return{data:{data:"",message:"server_error",status:500}};e.response.data.message;return Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}}));var je=function(e){return function(a){Oe.post(Re+"dj-clubs",e||"").then((function(e){a({type:"CLUB_LIST",payload:e.data})})).catch((function(e){a({type:"CLUB_LIST",payload:e.response.data})}))}},ke=function(e){return function(a){Oe.post(Re+"dj-details",e||"").then((function(e){a({type:"GET_PROFILE",payload:e.data})})).catch((function(e){a({type:"GET_PROFILE",payload:e.response.data})}))}},Te=function(e,a){return function(t){Oe.post(Re+"update-dj",e,a).then((function(e){t({type:"UPDATE_PROFILE",payload:e.data})})).catch((function(e){t({type:"UPDATE_PROFILE",payload:e.response.data})}))}},xe=function(e){return function(a){Oe.post(Re+"club-details",e||"").then((function(e){a({type:"GET_CLUBDETAILS",payload:e.data})})).catch((function(e){a({type:"GET_CLUBDETAILS",payload:e.response.data})}))}};function Pe(e){return function(e){e({type:"EMPTY_DATA",payload:{data:"",status:200,message:""}})}}var Ue=function(e){return function(a){Oe.post(Re+"home-clubs",e||"").then((function(e){a({type:"USER_CLUB_LIST",payload:e.data})})).catch((function(e){a({type:"USER_CLUB_LIST",payload:e.response.data})}))}},Me=function(e){return function(a){Oe.post(Re+"dj-search-clubs",e||"").then((function(e){a({type:"SEARCH_CLUBS",payload:e.data})})).catch((function(e){a({type:"SEARCH_CLUBS",payload:e.response.data})}))}},Ae=function(e){return function(a){Oe.post(Re+"user-details",e||"").then((function(e){a({type:"GET_USER_PROFILE",payload:e.data})})).catch((function(e){a({type:"GET_USER_PROFILE",payload:e.response.data})}))}},Fe=function(e){return function(a){Oe.post(Re+"user-update",e||"").then((function(e){a({type:"UPDATE_USER_PROFILE",payload:e.data})})).catch((function(e){a({type:"UPDATE_USER_PROFILE",payload:e.response.data})}))}},Ge=function(e){return function(a){Oe.post(Re+"user-web-stories",e||"").then((function(e){a({type:"USER_STORIES",payload:e.data})})).catch((function(e){a({type:"USER_STORIES",payload:e.response.data})}))}},Be=function(e){return function(a){Oe.post(Re+"send-request-email",e||"").then((function(e){a({type:"ADD_CLUB",payload:e.data})})).catch((function(e){a({type:"ADD_CLUB",payload:e.response.data})}))}},Je=function(){return function(e){Oe.get(Re+"live-dj-list").then((function(a){e({type:"LIVE_DJ",payload:a.data})})).catch((function(a){e({type:"LIVE_DJ",payload:a.response.data})}))}},Ke=function(){return function(e){Oe.get(Re+"top-cities").then((function(a){e({type:"TOP_CITIES",payload:a.data})})).catch((function(a){e({type:"TOP_CITIES",payload:a.response.data})}))}},He=function(e){return function(a){Oe.post(Re+"search-city",e||{}).then((function(e){a({type:"SEARCH_CITY",payload:e.data})})).catch((function(e){a({type:"SEARCH_CITY",payload:e.response.data})}))}},We=(t(137),function(e){function a(e){var t;Object(y.a)(this,a),(t=Object(D.a)(this,Object(w.a)(a).call(this,e))).handleInputChange=function(e){var a=e.target,r="checkbox"===a.type?a.checked:a.value;t.setState(Object(S.a)({},e.target.name,r))},t.clubDetails=function(e){return o.a.createElement("div",null,t.props.history.push("/club-details/".concat(e)))},t.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var a={country:t.state.location,text:t.state.term,id:t.state.userId,search:!0};t.setState({showLoader:!0}),t.state.term?t.props.searchDj(a):(a={city:"Atlanta",id:t.state.userId},t.props.fetchClubs(a))},t.addClubForMe=function(e){if(ie){if(e.preventDefault(),void 0==t.state.requestedClub||null==t.state.requestedClub||""==t.state.requestedClub.trim())return void t.setState({addClubsError:!0});var a={user_id:t.state.userId,text:t.state.requestedClub};t.setState({showLoader:!0}),t.props.addClubs(a)}},t.showModal=function(){t.setState({requestedClub:"",showMe:!0},(function(){}))},t.dismissModal=function(){t.setState({requestedClub:"",showMe:!1})},t.loadMore=function(){t.setState((function(e){return{visible:e.visible+2}}))},localStorage.setItem("user-type","dj");var r=JSON.parse(localStorage.getItem("userData")),s=JSON.parse(localStorage.getItem("isLoggedIn")),l=localStorage.getItem("user-type");return t.state={clubs:{},clubsList:[],suggestionsList:[],term:"",logged_in:!!r&&r.logged_in,isLoggedIn:s||0,location:r?r.location:"",userProfile:r?r.profile_image:r.profile_picture_url,userName:r?r.name:"",userId:r?r.id:"",showLoader:!1,userType:l||"",requestedClub:"",addClubsError:!1,addClubs:{},showMe:!1,authKey:r?r.oauth_key:"",pictureUrl:"",visible:2,userImage:""},t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"componentDidMount",value:function(){window.scrollTo(0,0),"user"!=this.state.userType||!0===this.state.logged_in&&1===this.state.isLoggedIn&&""!=this.state.authKey||(window.location.href="/"),"user"!=this.state.userType||1!=this.state.logged_in&&1!=this.state.isLoggedIn||(window.location.href="/");var e={id:this.state.userId,city:this.state.location,web:!0};"dj"!=this.state.userType||1!=this.state.logged_in&&1!=this.state.isLoggedIn&&""===this.state.authKey||(this.setState({showLoader:!0}),this.props.fetchClubs(e))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement($.a,{active:this.state.showLoader,spinner:o.a.createElement(ae.a,{color:"#fb556b"}),text:"Loading"},o.a.createElement("div",{className:"container-fluid menu"},o.a.createElement("div",{className:"container"},o.a.createElement(Ce,{userProfile:this.state.userProfile?this.state.userProfile:this.state.userImage,userName:this.state.userName}))),o.a.createElement("div",{className:"container"},o.a.createElement("section",{className:"bg-search"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-sm-12 left-login"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"form-group has-search"},o.a.createElement("span",{className:"fa fa-search form-control-feedback"}),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search Club",value:this.state.term,autoComplete:"off",onChange:this.handleInputChange,name:"term"})))))),o.a.createElement("section",{className:"lounge-recent-search"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-sm-12 col-lg-8 col-xl-8 left-section"},this.state.clubsList&&this.state.clubsList.slice(0,this.state.visible).map((function(a,t){return o.a.createElement("div",{className:"display-block lounge-box fade-in",key:t,onClick:e.clubDetails.bind(e,a.id)},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-lg-12 col-sm-12 like-lounge-box"},o.a.createElement("span",{className:"name-lounge"},a.name),0==a.live&&o.a.createElement("span",{className:"red-color-list"},"\xa0"),a.live&&o.a.createElement("span",{className:"green-color-list"},"\xa0")),o.a.createElement("div",{className:"col-12 col-lg-12 col-sm-12"},o.a.createElement("div",{className:"club-image"},o.a.createElement("img",{src:a.profile_image})))))})),o.a.createElement("div",{className:"col-12 col-lg-12 col-sm-12 text-center add-club-btn load-more"},this.state.clubsList&&this.state.clubsList.length>this.state.visible&&o.a.createElement("button",{onClick:this.loadMore,type:"button",className:"load-more btn w-25"},"Load more")),!this.state.clubsList.length&&o.a.createElement("div",{className:"display-block lounge-box"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-lg-12 col-sm-12 like-lounge-box text-center"},"Sorry! you have no club assigned."),o.a.createElement("div",{className:"col-12 col-lg-12 col-sm-12 like-lounge-box text-center"},o.a.createElement("img",{src:"./img/nodj.png",className:"discImg"}))))),o.a.createElement("div",{className:"col-12 col-sm-12 col-lg-4 col-xl-4 left-section"},o.a.createElement("div",{className:"display-block recent-search-box"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-lg-12 col-sm-12 add-club-btn"},o.a.createElement("button",{className:"btn",type:"button",onClick:this.showModal},o.a.createElement("img",{src:"./img/more.png"})," Add Club"))))))),this.state.showMe&&o.a.createElement("div",{className:"modal fade",id:"addclub",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("button",{type:"button",className:"close text-right","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.dismissModal()}},o.a.createElement("span",{"aria-hidden":"true"},o.a.createElement("img",{src:"img/close.png"}))),o.a.createElement("div",{className:"modal-header text-center"},o.a.createElement("h5",Object(S.a)({className:"modal-title",id:"exampleModalLabel"},"className","new-club"),"Send Request to add new Club")),o.a.createElement("div",{className:"modal-body"},o.a.createElement("div",{className:"display-block type-something"},o.a.createElement("textarea",{className:this.state.addClubsError?"form-control fieldError":"form-control",placeholder:"Type club name",value:this.state.requestedClub,onChange:this.handleInputChange,name:"requestedClub"}))),o.a.createElement("div",{className:"modal-footer modal-button"},o.a.createElement("div",{className:"add-club-btn"},o.a.createElement("button",{type:"button",className:"btn mb-4",onClick:function(a){return e.addClubForMe(a)}},"Send Request"))))))),o.a.createElement(Ie,null)))}}],[{key:"getDerivedStateFromProps",value:function(e,a){e.exportEmptyData();var t={};return void 0!==e.clubs&&e.clubs!==a.clubs?(t.clubs=e.clubs?e.clubs:{},t.clubsList=e.clubs.clubs?e.clubs.clubs:[],t.suggestionsList=e.clubs.suggested_clubs?e.clubs.suggested_clubs:[],t.showLoader=!1,t.userImage=e.clubs?e.clubs.profile_image:"https://nwsid.net/wp-content/uploads/2015/05/dummy-profile-pic.png",t):void 0!==e.addClubsData?(t.showLoader=!1,t.showMe=!1,t):null}}]),a}(s.Component));var qe=Object(E.b)((function(e){var a={};return"CLUB_LIST"===e.DashboardReducer.action&&(1==e.DashboardReducer.data.error?X.b.error("Server error, please try again later!"):a.clubs=e.DashboardReducer.data),"SEARCH_CLUBS"===e.DashboardReducer.action&&(1==e.DashboardReducer.data.error||(a.clubs=e.DashboardReducer.data)),"ADD_CLUB"===e.DashboardReducer.action&&(1==e.DashboardReducer.data.error?(a.addClubsData=e.DashboardReducer.data,X.b.error("Server error, please try again later!")):(a.addClubsData=e.DashboardReducer.data,X.b.success("Request sent succesfully!"))),a}),(function(e){return Object(c.b)({fetchClubs:je,searchDj:Me,addClubs:Be,exportEmptyData:Pe},e)}))(We),ze=t(321),Ve=t.n(ze),Ye=(o.a.Component,function(e){function a(e){var t;Object(y.a)(this,a),(t=Object(D.a)(this,Object(w.a)(a).call(this,e))).handleInputChange=function(e){var a;t.props.exportEmptyData();var r=e.target,s=r.value;switch(r.type){case"checkbox":s=r.checked;break;case"radio":s="male"==r.value?"male":"female";break;case"file":s=r.files[0]}t.setState((a={},Object(S.a)(a,e.target.name,s),Object(S.a)(a,"userChanged",!0),a))},t.uploadPhoto=function(){},t.handleSubmit=function(e){if(e.preventDefault(),t.props.exportEmptyData(),ie()){var a=JSON.parse(localStorage.getItem("userData")),r=!1;if("dj"!==t.state.userType?(void 0!=t.state.firstName&&null!=t.state.firstName&&""!=t.state.firstName.trim()||(t.setState({firstNameError:"fieldError"}),r=!0),void 0==t.state.lastName||null==t.state.lastName||t.state.lastName.trim(),void 0!=t.state.userGender&&null!=t.state.userGender&&""!=t.state.userGender.trim()||(t.setState({genderError:"fieldError"}),r=!0),void 0!=t.state.loginUserName&&null!=t.state.loginUserName&&""!=t.state.loginUserName.trim()||(t.setState({userNameError:"fieldError"}),r=!0)):(void 0!=t.state.userName&&null!=t.state.userName&&""!=t.state.userName.trim()||(t.setState({nameError:"fieldError"}),r=!0),void 0!=t.state.loginUserName&&null!=t.state.loginUserName&&""!=t.state.loginUserName.trim()||(t.setState({userNameError:"fieldError"}),r=!0),void 0!=t.state.userGender&&null!=t.state.userGender&&""!=t.state.userGender.trim()||(t.setState({genderError:"fieldError"}),r=!0)),t.state.updatePassword){if(void 0!=t.state.userPassword&&null!=t.state.userPassword&&""!=t.state.userPassword&&""!=t.state.userPassword.trim()||(t.setState({passwordError:"fieldError"}),r=!0),void 0!=t.state.confirmPassword&&null!=t.state.confirmPassword&&""!=t.state.confirmPassword&&""!=t.state.confirmPassword.trim()||(t.setState({confirmPasswordError:"fieldError"}),r=!0),t.state.userPassword!==t.state.confirmPassword)return r=!0,X.b.error("Password & Confirm Password not matched"),void t.setState({confirmPasswordError:"fieldError",passwordError:"fieldError"});if(t.state.userPassword&&t.state.userPassword.length<8)return X.b.error("Passwords must be at least 8 characters"),r=!0,void t.setState({passwordError:"fieldError"})}if(t.state.loginUserName&&t.state.loginUserName.length<6)return r=!0,X.b.error("Username must be at least 6 characters"),void t.setState({userNameError:"fieldError"});if(!0===r)return;var s={};t.setState({showLoader:!0}),"user"==t.state.userType?(s={user_id:t.state.userId,first_name:t.state.firstName,last_name:t.state.lastName,user_name:t.state.loginUserName,password:t.state.userPassword,location:t.state.location,gender:t.state.userGender,picture_url:t.state.imagePreviewUrl,email:t.state.userEmail},a.first_name=t.state.firstName,a.last_name=t.state.lastName?t.state.lastName:"",localStorage.setItem("userData",JSON.stringify(a)),t.setState({profileUpdate:!0}),t.props.updateUserProfile(s)):(s={id:t.state.djId,name:t.state.userName,user_name:t.state.loginUserName,password:t.state.userPassword,location:t.state.location,gender:t.state.userGender,picture_url:t.state.imagePreviewUrl,email:t.state.userEmail},a.name=t.state.userName,localStorage.setItem("userData",JSON.stringify(a)),t.setState({profileUpdate:!0}),t.props.updateProfile(s))}};var r=JSON.parse(localStorage.getItem("userData")),s=JSON.parse(localStorage.getItem("isLoggedIn")),o=localStorage.getItem("user-type");return t.state={logged_in:!!r&&r.logged_in,isLoggedIn:s||0,location:r?r.location:"",userName:"",profileImage:"",loginUserName:"",userEmail:"",userGender:"",updatePassword:!1,confirmPassword:"",userPassword:"",djId:r?r.id:"",userProfile:{},djProfile:{},headerName:r.name?r.name:"",pictures:[],file:"",file_name:"",defImageCls:"no-display",cameraInPreviewCls:"camra-icon dz-clickable no-image",uploadedFile:"",dzImgObj:{},user_image_url:"",dzCSS:"",dbfirstname:"",imagePreviewUrl:"https://nwsid.net/wp-content/uploads/2015/05/dummy-profile-pic.png",userId:r?r.user_id:"",userType:o||"",firstName:"",lastName:"",showLoader:!1,nameError:"",errorMessageName:"",userNameError:"",passwordError:"",inShow:!1,profileUpdate:!1,authKey:r?r.oauth_key:"",pictureUrl:"",userFirstName:r?r.first_name:"",userLastName:r?r.last_name:""},t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"componentDidMount",value:function(){""==this.state.userType&&(window.location.href="/");var e={id:this.state.djId},a={user_id:this.state.userId};1!=this.state.logged_in&&1!=this.state.isLoggedIn&&""===this.state.authKey||(this.setState({showLoader:!0}),"dj"==this.state.userType&&this.props.fetchProfile(e),"user"==this.state.userType&&this.props.fetchUserProfile(a))}},{key:"_handleImageChange",value:function(e){var a=this;e.preventDefault();var t=e.target.files[0];this.setState({file:t});var r=new FileReader;if(r.onloadend=function(){var e=r.result,t=r.result.split(",")[1],s=atob(t);a.setState({profileImage:JSON.stringify(s)}),a.setState({imagePreviewUrl:e,inShow:!0})},t&&r.readAsDataURL(t),t){var s=new FormData;s.append("profile_image",t),"user"==this.state.userType&&s.append("last_name",this.state.lastName),"dj"==this.state.userType&&(s.append("id",this.state.djId),s&&(this.setState({showLoader:!0}),this.props.updateProfile(s))),"user"==this.state.userType&&(s.append("user_id",this.state.userId),this.setState({showLoader:!0}),this.props.updateUserProfile(s))}}},{key:"render",value:function(){var e,a=this,t=this.state.imagePreviewUrl,r=null;r=t?o.a.createElement("img",{src:t}):o.a.createElement("div",{className:"previewText"}),e=null==this.state.userLastName||void 0==this.state.userLastName||""==this.state.userLastName.trim()?"":this.state.userLastName;var s=this.state.userFirstName+" "+e;return o.a.createElement("div",null,o.a.createElement($.a,{active:this.state.showLoader,spinner:o.a.createElement(ae.a,{color:"#fb556b"}),text:"Loading"},o.a.createElement("div",{className:"container-fluid menu"},o.a.createElement("div",{className:"container"},o.a.createElement(Ce,{userProfile:this.state.imagePreviewUrl,userName:this.state.headerName?this.state.headerName:s}))),o.a.createElement("div",{className:"container profile-container"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("section",{className:"profile-page"},o.a.createElement("div",{className:"row mb-5 profile-img"},o.a.createElement("div",{className:"col-sm-8 mx-auto text-center"},o.a.createElement("div",{className:"img-box"},o.a.createElement("div",{className:"previewComponent"},o.a.createElement("div",{className:"imgPreview"},this.state.inShow?r:o.a.createElement("img",{className:"inshow",src:this.state.imagePreviewUrl}),o.a.createElement("label",{className:"custom-file-upload"},o.a.createElement("input",{type:"file",onChange:function(e){return a._handleImageChange(e)},accept:"image/png, image/jpeg, image/jpg"}),o.a.createElement("span",{className:"edit-bg"},o.a.createElement("i",{className:"fa fa-pencil"})))))))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-8 mx-auto"},o.a.createElement("form",null,o.a.createElement("div",{className:"row"},"dj"==this.state.userType&&o.a.createElement("div",{className:"form-group col-sm-12 col-md-12 col-lg-6"},o.a.createElement("label",{htmlFor:"inputEmail4"},"Name"),o.a.createElement("input",{type:"text",name:"userName",className:this.state.nameError?"form-control fieldError":"form-control",value:this.state.userName,onChange:this.handleInputChange,autoComplete:"off"})),"user"==this.state.userType&&o.a.createElement("div",{className:"form-group col-sm-12 col-md-12 col-lg-6"},o.a.createElement("label",{htmlFor:"inputEmail4"},"First Name"),o.a.createElement("input",{type:"text",name:"firstName",className:this.state.firstNameError?"form-control fieldError":"form-control",value:this.state.firstName,onChange:this.handleInputChange,autoComplete:"off"})),"user"==this.state.userType&&o.a.createElement("div",{className:"form-group col-sm-12 col-md-12 col-lg-6"},o.a.createElement("label",{htmlFor:"inputEmail4"},"Last Name"),o.a.createElement("input",{type:"text",name:"lastName",className:this.state.lastNameError?"form-control fieldError":"form-control",value:this.state.lastName,onChange:this.handleInputChange,autoComplete:"off"})),o.a.createElement("div",{className:"form-group col-sm-12 col-md-12 col-lg-6"},o.a.createElement("label",{htmlFor:"inputPassword4"},"Username"),o.a.createElement("input",{type:"text",className:this.state.userNameError?"form-control fieldError":"form-control",name:"loginUserName",value:this.state.loginUserName,onChange:this.handleInputChange,autoComplete:"off"})),o.a.createElement("div",{className:"form-group col-sm-12 col-md-12 col-lg-6"},o.a.createElement("label",{htmlFor:"inputEmail4"},"Email Address"),o.a.createElement("input",{type:"email",name:"userEmail",value:this.state.userEmail,className:"form-control",autoComplete:"off",readOnly:!0})),o.a.createElement("div",{className:"form-group col-sm-12 col-md-12 col-lg-6 gender-container"},o.a.createElement("label",{className:"container-radio"},"Male",o.a.createElement("input",{type:"radio",checked:"male"==this.state.userGender&&"checked",id:"gender0",name:"userGender",value:"male",onChange:this.handleInputChange}),o.a.createElement("span",{className:this.state.genderError?"checkmark-radio radio-error":"checkmark-radio"})),o.a.createElement("label",{className:"container-radio female"},"Female",o.a.createElement("input",{type:"radio",name:"userGender",id:"gender1",checked:"female"==this.state.userGender&&"checked",value:"female",onChange:this.handleInputChange}),o.a.createElement("span",{className:this.state.genderError?"checkmark-radio radio-error":"checkmark-radio"})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-sm-12 col-md-12 col-lg-6 update-group"},o.a.createElement("label",{className:"container-checkbox"},o.a.createElement("span",{className:"rm-text"},"Update Password"),o.a.createElement("input",{type:"checkbox",name:"updatePassword",checked:!!this.state.updatePassword&&"checked",onChange:this.handleInputChange}),o.a.createElement("span",{className:"checkmark"})))),this.state.updatePassword&&o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"form-group col-sm-12 col-md-12 col-lg-6"},o.a.createElement("label",{htmlFor:"inputEmail4"},"Password"),o.a.createElement("input",{type:"password",className:this.state.passwordError?"form-control fieldError":"form-control",name:"userPassword",value:this.state.userPassword,onChange:this.handleInputChange,autoComplete:"off"})),o.a.createElement("div",{className:"form-group col-sm-12 col-md-12 col-lg-6"},o.a.createElement("label",{htmlFor:"inputPassword4"},"Confirm Password"),o.a.createElement("input",{type:"password",name:"confirmPassword",className:this.state.confirmPasswordError?"form-control fieldError":"form-control",value:this.state.confirmPassword,onChange:this.handleInputChange,autoComplete:"off"}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-12 col-sm-12 col-12 save-btn-box text-center mt-4 mb-5"},o.a.createElement("button",{type:"submit",className:"btn login-btn"},"Save Changes"))))))))),o.a.createElement(Ie,null)))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var t={};if(e.exportEmptyData(),void 0!==e.djProfile&&e.djProfile!==a.djProfile&&e.djDate!==a.djDate){t.djDate=e.djDate,t.djProfile=e.djProfile?e.djProfile.data:{},t.location=e.djProfile.data.location?e.djProfile.data.location:"",t.userName=e.djProfile?e.djProfile.data.name:"",t.profileImage=e.djProfile?e.djProfile.data.profile_image:"https://nwsid.net/wp-content/uploads/2015/05/dummy-profile-pic.png",t.imagePreviewUrl=e.djProfile.data.profile_image?e.djProfile.data.profile_image:e.djProfile.data.profile_picture_url,void 0!=t.imagePreviewUrl&&null!=t.imagePreviewUrl&&""!=t.imagePreviewUrl.trim()||(t.imagePreviewUrl="https://nwsid.net/wp-content/uploads/2015/05/dummy-profile-pic.png"),t.loginUserName=e.djProfile?e.djProfile.data.user_name:"",t.userEmail=e.djProfile?e.djProfile.data.email:"",t.userGender=e.djProfile?e.djProfile.data.gender:"",t.headerName=e.djProfile?e.djProfile.data.name:"",t.updatePassword=!1,t.userPassword="",t.confirmPassword="",t.showLoader=!1,void 0!==e.update&&1==e.update&&1==a.inShow?(t.update=!1,t.inShow=!1,X.b.success("Profile picture updated!")):(t.update=0==a.inShow&&1==a.profileUpdate)&&(t.update=!1,t.profileUpdate=!1,X.b.success("Profile updated successully"),t.nameError="",t.userNameError="",t.passwordError="",t.confirmPasswordError="",t.genderError="");var r=JSON.parse(localStorage.getItem("userData"));return r.profile_image=e.djProfile?e.djProfile.data.profile_image:"https://nwsid.net/wp-content/uploads/2015/05/dummy-profile-pic.png",localStorage.setItem("userData",JSON.stringify(r)),t}if(void 0!==e.userProfile&&e.userProfile!==a.userProfile&&e.userDate!==a.userDate){t.userDate=e.userDate,t.userProfile=e.userProfile?e.userProfile.data:{},t.location=e.userProfile.data.location?e.userProfile.data.location:"",t.firstName=e.userProfile?e.userProfile.data.first_name:"",t.lastName=e.userProfile?e.userProfile.data.last_name:"",t.profileImage=e.userProfile?e.userProfile.data.profile_image:"https://nwsid.net/wp-content/uploads/2015/05/dummy-profile-pic.png",t.imagePreviewUrl=e.userProfile.data.profile_image?e.userProfile.data.profile_image:e.userProfile.data.profile_picture_url,void 0!=t.imagePreviewUrl&&null!=t.imagePreviewUrl&&""!=t.imagePreviewUrl.trim()||(t.imagePreviewUrl="https://nwsid.net/wp-content/uploads/2015/05/dummy-profile-pic.png"),t.updatePassword=!1,t.userPassword="",t.confirmPassword="",t.loginUserName=e.userProfile?e.userProfile.data.user_name:"",t.userEmail=e.userProfile?e.userProfile.data.email:"",t.userGender=e.userProfile?e.userProfile.data.gender:"",t.headerName=e.userProfile?e.userProfile.data.name:"",t.userFirstName=e.userProfile.data?e.userProfile.data.first_name:"",t.userLastName=e.userProfile.data?e.userProfile.data.last_name:"",t.showLoader=!1,void 0!==e.update&&1==e.update&&1==a.inShow?(t.update=!1,t.inShow=!1,X.b.success("Profile picture updated!")):(t.update=0==a.inShow&&1==a.profileUpdate)&&(t.update=!1,t.profileUpdate=!1,X.b.success("Profile updated successully"),t.firstNameError="",t.userNameError="",t.passwordError="",t.confirmPasswordError="",t.lastNameError="",t.genderError="");var s=JSON.parse(localStorage.getItem("userData"));return s.profile_image=e.userProfile?e.userProfile.data.profile_image:"https://nwsid.net/wp-content/uploads/2015/05/dummy-profile-pic.png",localStorage.setItem("userData",JSON.stringify(s)),t}return void 0!==e.updateError&&1==e.updateError.error&&e.updateError!==a.updateError?(t.showLoader=!1,t.userNameError="fieldError",X.b.error(e.updateError.message),t):null}}]),a}(s.Component));var Ze=Object(E.b)((function(e){var a={};return"GET_PROFILE"===e.DashboardReducer.action&&(1==e.DashboardReducer.data.error||(a.djProfile=e.DashboardReducer.data,a.djDate=new Date)),"UPDATE_PROFILE"===e.DashboardReducer.action&&(1==e.DashboardReducer.data.error?a.updateError=e.DashboardReducer.data:(a.djProfile=e.DashboardReducer.data,a.update=!0,a.djDate=new Date)),"GET_USER_PROFILE"===e.DashboardReducer.action&&(1==e.DashboardReducer.data.error||(a.userProfile=e.DashboardReducer.data,a.userDate=new Date)),"UPDATE_USER_PROFILE"===e.DashboardReducer.action&&(1==e.DashboardReducer.data.error?a.updateError=e.DashboardReducer.data:(a.userProfile=e.DashboardReducer.data,a.update=!0,a.userDate=new Date)),a}),(function(e){return Object(c.b)({fetchProfile:ke,exportEmptyData:Pe,updateProfile:Te,fetchUserProfile:Ae,updateUserProfile:Fe},e)}))(Ye),Xe="https://catchapp.live/catchappdevapi/api/",Qe=R.a.create();Qe.interceptors.response.use((function(e){return e.data,e}),(function(e){if(e.response){if(500==e.response.status)return{data:{data:"",message:"server_error",status:500}};e.response.data.message;return Promise.reject(e)}return{data:{data:"",message:"server_error",status:500}}}));var $e=function(e){return function(a){Qe.post(Xe+"create-live-stream",e||"").then((function(e){a({type:"CREATE_STREAM",payload:e.data})})).catch((function(e){a({type:"CREATE_STREAM",payload:e.response.data})}))}},ea=function(e){return function(a){Qe.put(Xe+"start-stream",e||"").then((function(e){a({type:"START_STREAM",payload:e.data})})).catch((function(e){a({type:"START_STREAM",payload:e.response.data})}))}},aa=function(e){return function(a){Qe.post(Xe+"fetch-lstream-state",e||"").then((function(e){a({type:"STREAM_STATE",payload:e.data})})).catch((function(e){a({type:"STREAM_STATE",payload:e.response.data})}))}},ta=function(e){return function(a){Qe.put(Xe+"stop-stream",e||"").then((function(e){a({type:"STOP_STREAM",payload:e.data})})).catch((function(e){a({type:"STOP_STREAM",payload:e.response.data})}))}},ra=function(e){return function(a){Qe.post(Xe+"log-stream",e||"").then((function(e){a({type:"SET_STREAM_DETAILS",payload:e.data})})).catch((function(e){a({type:"SET_STREAM_DETAILS",payload:e.response.data})}))}},sa=(t(305),t(83)),oa=t.n(sa),la=(t(307),t(315),t(704),t(323)),ia=(s.Component,t(206)),na=t(149),ca=t.n(na);!navigator.mediaDevices||navigator.mediaDevices.enumerateDevices;var ma,da={param1:"value1"},ua=null,pa=!1,ha=null,ga=-1,fa=-1;navigator.getUserMedia=navigator.getUserMedia||navigator.mozGetUserMedia||navigator.webkitGetUserMedia,window.RTCPeerConnection=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,window.RTCIceCandidate=window.RTCIceCandidate||window.mozRTCIceCandidate||window.webkitRTCIceCandidate,window.RTCSessionDescription=window.RTCSessionDescription||window.mozRTCSessionDescription||window.webkitRTCSessionDescription;var ba,Ea={applicationName:"",streamName:"",sessionId:"[empty]"},va=360,Sa=64,ya="29.97",Na="42e01f",Da="Opus",wa={iceServers:[]},_a=new Object,La=0,Ca=!1,Ia=0,Ra=function(e){function a(e){var t,r;Object(y.a)(this,a),(r=Object(D.a)(this,Object(w.a)(a).call(this,e))).getMediaDevice=function(){var e=document.getElementById("Jazz");navigator.mediaDevices.getUserMedia?(navigator.mediaDevices.getUserMedia({video:!1,audio:!0}).then((function(a){ua=a;try{e.srcObject=a,r.setState({error:""})}catch(t){e.src=window.URL.createObjectURL(a)}})).catch((function(e){e&&(X.b.error("Mic not found!"),r.setState({error:e}))})),pa=!1):alert("Your browser does not support getUserMedia API")},r.getStreamStatus=function(){var e=r.state.streamId;r.props.checkStreamState({stream_id:e,web:!0,showLoader:!0})},r.handleInputChange=function(e){var a=e.target,t="checkbox"===a.type?a.checked:a.value;r.setState(Object(S.a)({},e.target.name,t))},r.startStreaming=function(){if(ie()){if(r.state.error)return void r.getMediaDevice();if(0==r.state.female&&0==r.state.male)return void X.b.error("Please fill the active members");var e=r.state.streamId;Ia=0,r.setState({showLoader:!0,waveStart:!0,playing:!0,error:"",startStream:!0}),Ca=!0,La+=1,r.props.startStream({stream_id:e})}},r.stopStreaming=function(){var e=r.state.streamId;r.setState({waveStart:!1,playing:!1,female:0,male:0,totalTraffic:30,startStream:!1}),Ca=!1,r.props.stopStream({stream_id:e,web:!0}),La=0,Ia=0,ha=null,r.trafficSlow()},r.checkStreamState=function(){r.state.streamId;r.props.checkStreamState()},r.start=function(){null==ha?r.startPublisher():r.stopPublisher()},r.startPublisher=function(){ma=r.state.streamUrl,Ea.applicationName=r.state.appName,Ea.streamName=r.state.streamName,va=360,Sa=64,ya="24.97",Na="42e01f",Da="opus",r.wsConnect(ma)},r.enhanceSDP=function(e,a){var t=e.split(/\r\n/),s="header",o=!1,l="";if(!e.includes("THIS_IS_SDPARTA")||Na.includes("VP9")){var i=!0,n=!1,c=void 0;try{for(var m,d=t[Symbol.iterator]();!(i=(m=d.next()).done);i=!0){if(!((b=m.value).length<=0))r.checkLine(b)&&(l+=b,l+="\r\n")}}catch(y){n=!0,c=y}finally{try{i||null==d.return||d.return()}finally{if(n)throw c}}l=r.addAudio(l,r.deliverCheckLine(Da,"audio")),t=(e=l=r.addVideo(l,r.deliverCheckLine(Na,"video"))).split(/\r\n/),l=""}var u=!0,p=!1,h=void 0;try{for(var g,f=t[Symbol.iterator]();!(u=(g=f.next()).done);u=!0){var b;if(!((b=g.value).length<=0)){if(0==b.indexOf("m=audio")&&-1!=fa){var E=b.split(" ");l+=E[0]+" "+E[1]+" "+E[2]+" "+fa}else 0==b.indexOf("m=video")&&-1!=ga?l+=(E=b.split(" "))[0]+" "+E[1]+" "+E[2]+" "+ga:l+=b;if(0===b.indexOf("m=audio")?(s="audio",o=!1):0===b.indexOf("m=video")?(s="video",o=!1):0==b.indexOf("a=rtpmap")&&(s="bandwidth",o=!1),(0===b.indexOf("a=mid:")||0==b.indexOf("a=rtpmap"))&&!o)if(0=="audio".localeCompare(s))void 0!==a.audioBitrate&&(l+="\r\nb=CT:"+a.audioBitrate,l+="\r\nb=AS:"+a.audioBitrate),o=!0;else if(0=="video".localeCompare(s))void 0!==a.videoBitrate&&(l+="\r\nb=CT:"+a.videoBitrate,l+="\r\nb=AS:"+a.videoBitrate,void 0!==a.videoFrameRate&&(l+="\r\na=framerate:"+a.videoFrameRate)),o=!0;else if(0=="bandwidth".localeCompare(s)){var v;if(null!==(v=r.getrtpMapID(b))){var S=v[2].toLowerCase();0!="vp9".localeCompare(S)&&0!="vp8".localeCompare(S)&&0!="h264".localeCompare(S)&&0!="red".localeCompare(S)&&0!="ulpfec".localeCompare(S)&&0!="rtx".localeCompare(S)||void 0!==a.videoBitrate&&(l+="\r\na=fmtp:"+v[1]+" x-google-min-bitrate="+a.videoBitrate+";x-google-max-bitrate="+a.videoBitrate),0!="opus".localeCompare(S)&&0!="isac".localeCompare(S)&&0!="g722".localeCompare(S)&&0!="pcmu".localeCompare(S)&&0!="pcma".localeCompare(S)&&0!="cn".localeCompare(S)||void 0!==a.audioBitrate&&(l+="\r\na=fmtp:"+v[1]+" x-google-min-bitrate="+a.audioBitrate+";x-google-max-bitrate="+a.audioBitrate)}}l+="\r\n"}}}catch(y){p=!0,h=y}finally{try{u||null==f.return||f.return()}finally{if(p)throw h}}return console.log("stream started"),X.b.success("Streaming Started!"),l},r.wsConnect=function(e){(ba=new WebSocket(e)).binaryType="arraybuffer",ba.onopen=function(){if((ha=new RTCPeerConnection(wa)).onicecandidate=r.gotIceCandidate(ha),pa){var e=ua.getTracks(),a=!0,t=!1,s=void 0;try{for(var o,l=e[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var i=o.value;ha.addTrack(i,ua)}}catch(n){t=!0,s=n}finally{try{a||null==l.return||l.return()}finally{if(t)throw s}}}else ha.addStream(ua);ha.createOffer().then(r.gotDescription).catch(r.errorHandler)},ba.onmessage=function(e){var a=JSON.parse(e.data),t=Number(a.status);a.command;if(200!=t)this.stopPublisher();else{var r=a.sdp;void 0!==r&&(!0,ha.setRemoteDescription(new RTCSessionDescription(r)).catch(this.errorHandler));var s=a.iceCandidates;if(void 0!==s){var o=!0,l=!1,i=void 0;try{for(var n,c=s[Symbol.iterator]();!(o=(n=c.next()).done);o=!0){var m=n.value;!0,ha.addIceCandidate(new RTCIceCandidate(m))}}catch(d){l=!0,i=d}finally{try{o||null==c.return||c.return()}finally{if(l)throw i}}}}null!=ba&&ba.close(),ba=null},ba.onclose=function(){},ba.onerror=function(a){console.log("wsConnection.onerror: "+JSON.stringify(a)),X.b.error("Streaming server error, please try again later!"),console.log("WebSocket connection failed: "+e),r.stopPublisher(),r.stopStreaming(),Ia=0,r.setState({playing:!1,startStream:!1})}},r.gotIceCandidate=function(e){null!=e.candidate&&console.log("gotIceCandidate: "+JSON.stringify({ice:e.candidate}))},r.gotDescription=function(e){var a=new Object;return void 0!==Sa&&(a.audioBitrate=Number(Sa)),void 0!==va&&(a.videoBitrate=Number(va)),void 0!==ya&&(a.videoFrameRate=Number(ya)),e.sdp=r.enhanceSDP(e.sdp,a),ha.setLocalDescription(e).then((function(){ba.send('{"direction":"publish", "command":"sendOffer", "streamInfo":'+JSON.stringify(Ea)+', "sdp":'+JSON.stringify(e)+', "userData":'+JSON.stringify(da)+"}")})).catch((function(e){console.log("set local description error:"),console.log(e)}))},r.checkLine=function(e){if(e.startsWith("a=rtpmap")||e.startsWith("a=rtcp-fb")||e.startsWith("a=fmtp")){var a=e.split(":");if(a.length>1){var t=a[1].split(" ");if(!isNaN(t[0])&&!t[1].startsWith("http")&&!t[1].startsWith("ur")){var r=_a[t[0]];return r||(r=""),r+=e+"\r\n",_a[t[0]]=r,!1}}}return!0},r.addAudio=function(e,a){var t=e.split(/\r\n/),r="",s=!1,o=!0,l=!1,i=void 0;try{for(var n,c=t[Symbol.iterator]();!(o=(n=c.next()).done);o=!0){var m=n.value;m.length<=0||(r+=m,r+="\r\n",0=="a=rtcp-mux".localeCompare(m)&&0==s&&(r+=a,s=!0))}}catch(d){l=!0,i=d}finally{try{o||null==c.return||c.return()}finally{if(l)throw i}}return r},r.addVideo=function(e,a){var t=e.split(/\r\n/),r="",s=!1,o=!1,l=!0,i=!1,n=void 0;try{for(var c,m=t[Symbol.iterator]();!(l=(c=m.next()).done);l=!0){(f=c.value).length<=0||(f.includes("a=rtcp-rsize")&&(o=!0),f.includes("a=rtcp-mux")&&!0)}}catch(b){i=!0,n=b}finally{try{l||null==m.return||m.return()}finally{if(i)throw n}}var d=!0,u=!1,p=void 0;try{for(var h,g=t[Symbol.iterator]();!(d=(h=g.next()).done);d=!0){var f;r+=f=h.value,r+="\r\n",0=="a=rtcp-rsize".localeCompare(f)&&0==s&&1==o&&(r+=a,s=!0),0=="a=rtcp-mux".localeCompare(f)&&1==s&&0==o&&(r+=a,s=!0),0=="a=rtcp-mux".localeCompare(f)&&0==s&&0==o&&(s=!0)}}catch(b){u=!0,p=b}finally{try{d||null==g.return||g.return()}finally{if(u)throw p}}return r},r.deliverCheckLine=function(e,a){var t="";for(var r in _a){var s=_a[r];if(t+=r,s.includes(e)){if(e.includes("VP9")||e.includes("VP8")){var o="",l=s.split(/\r\n/);for(var i in l){var n=l[i];-1===n.indexOf("transport-cc")&&-1===n.indexOf("goog-remb")&&-1===n.indexOf("nack")&&(o+=n,o+="\r\n")}return a.includes("audio")&&(fa=r),a.includes("video")&&(ga=r),o}return a.includes("audio")&&(fa=r),a.includes("video")&&(ga=r),s}}return t},r.stopPublisher=function(){null!=ha&&ha.close(),ha=null,null!=ba&&ba.close(),ba=null},r.getrtpMapID=function(e){console.log(e);var a=new RegExp("a=rtpmap:(\\d+) (\\w+)/(\\d+)"),t=e.match(a);return t&&t.length>=3?t:null},r.errorHandler=function(e){console.log(e)},r.setTrafficData=function(){var e;r.state.totalTraffic<31&&(e="Slow"),r.state.totalTraffic>31&&r.state.totalTraffic<51&&(e="Normal"),r.state.totalTraffic>60&&(e="Hype");var a={club_id:r.state.clubId,dj_id:r.state.userId,start_time:Math.floor(Date.now()/1e3),female_count:r.state.female,male_count:r.state.male,traffic:e,web:!0};r.props.setStreamDetails(a)},r.trafficSlow=function(){r.setState({totalTraffic:30,condition:"Slow",activeSlow:!0,activeMed:!1,activeHype:!1}),setTimeout((function(){r.setTrafficData()}),0)},r.trafficMed=function(){r.setState({condition:"Normal",totalTraffic:50,activeSlow:!1,activeMed:!0,activeHype:!1}),setTimeout((function(){r.setTrafficData()}),0)},r.trafficHype=function(){r.setState({totalTraffic:100,activeSlow:!1,activeMed:!1,activeHype:!0}),setTimeout((function(){r.setTrafficData()}),0)},r.dismissNoModal=function(){return o.a.createElement("div",null,r.props.history.push("/dashboard"))},r.onStart=function(){r.setState({alreadyPlaying:!0,showLoader:!1})},r.played=function(){r.setState({alreadyPlaying:!0,showLoader:!1})},r.onDuration=function(){r.setState({alreadyPlaying:!0,showLoader:!1})},r.onError=function(e){"hlsError"&&r.setState({showLoader:!1})};var s=JSON.parse(localStorage.getItem("userData")),l=JSON.parse(localStorage.getItem("isLoggedIn")),i=localStorage.getItem("user-type");return r.state=(t={logged_in:!!s&&s.logged_in,isLoggedIn:l||0,location:s?s.location:"",userProfile:s?s.profile_image:"",djName:s?s.name:"",userName:s?s.first_name+" "+s.last_name:"",userId:s?s.id:"",clubId:"",clubDetails:{},clubData:{},startStream:{},createData:{},profileImage:"",streamId:"",female:0,male:0,player:"",showLoader:!1,userType:i||"",streamName:"",appName:"",streamUrl:""},Object(S.a)(t,"startStream",!1),Object(S.a)(t,"totalTraffic",30),Object(S.a)(t,"clubImage",""),Object(S.a)(t,"waveStart",!1),Object(S.a)(t,"playing",!1),Object(S.a)(t,"streamStatus",""),Object(S.a)(t,"activeSlow",!0),Object(S.a)(t,"activeMed",!1),Object(S.a)(t,"activeHype",!1),Object(S.a)(t,"internalStatus",!1),Object(S.a)(t,"playStreamig",!1),Object(S.a)(t,"ipAddress",""),Object(S.a)(t,"stopStream",!1),Object(S.a)(t,"error",""),Object(S.a)(t,"alreadyPlaying",!1),Object(S.a)(t,"streamPlayerUrl",""),t),r}return Object(_.a)(a,e),Object(N.a)(a,[{key:"componentDidMount",value:function(){"user"!=this.state.userType||!0===this.state.logged_in&&1===this.state.isLoggedIn&&""!=this.state.authKey||(window.location.href="/"),window.scrollTo(0,0);var e=this.props.match.params.id?this.props.match.params.id:"",a={stream_name:"Live Stream",transcoder_type:"transcoded",billing_mode:"pay_as_you_go",broadcast_location:"asia_pacific_india",encoder:"other_webrtc",aspect_ratio_width:1920,aspect_ratio_height:1080,club_id:e};this.setState({showLoader:!0}),e&&this.props.fetchClubDetails({club_id:e,dj_id:this.state.userId,web:!0}),"dj"==this.state.userType&&this.props.createStream(a),this.getMediaDevice();var t={club_id:e,dj_id:this.state.userId,start_time:Math.floor(Date.now()/1e3),female_count:this.state.female,male_count:this.state.male,traffic:"Slow",web:!0};this.props.setStreamDetails(t)}},{key:"componentWillUnmount",value:function(){1==Ca&&(this.stopStreaming(),La=0,Ca=!1),clearInterval(this.getStreamStatus)}},{key:"componentDidUpdate",value:function(e){var a=this;this.state.startStream&&0==La&&this.getStreamStatus(),this.state.startStream&&"starting"==this.state.streamStatus&&(setInterval((function(){a.getStreamStatus()}),3e4),"started"==this.state.streamState&&clearInterval()),this.state.startStream&&"started"==this.state.streamStatus&&1==this.state.playing&&0==Ia&&(this.start(),Ia=1)}},{key:"render",value:function(){var e=this,a=this.state;a.female,a.male,a.totalTraffic;return o.a.createElement("div",null,o.a.createElement($.a,{active:this.state.showLoader,spinner:o.a.createElement(ae.a,{color:"#fb556b"}),text:"Loading"},o.a.createElement("div",{className:"container-fluid menu"},o.a.createElement("div",{className:"container"},o.a.createElement(Ce,{userProfile:this.state.userProfile,userName:this.state.djName?this.state.djName:this.state.userName}))),o.a.createElement("div",{className:"container"},o.a.createElement("section",{className:"player"},o.a.createElement("div",{className:"row player-row"},o.a.createElement("div",{className:"col-12 col-xl-12 player-section"},o.a.createElement("div",{className:"media-box"},o.a.createElement("h2",null,this.state.clubData.club_name),o.a.createElement("div",{className:"media-player"},o.a.createElement("img",{src:"/img/media-player1-min.png",onClick:this.stopStreaming}),!this.state.playing&&o.a.createElement("div",{className:"play button",onClick:this.startStreaming},o.a.createElement("span",{className:"inner-play"},"\u25b6")),this.state.playing&&o.a.createElement("div",{className:"play button",onClick:this.stopStreaming},o.a.createElement("span",{className:"inner-play"},"\u25a0"))),o.a.createElement(ia.a,{record:!!this.state.waveStart,className:"sound-wave",onStop:this.onStop,onData:this.onData,strokeColor:"#000000",backgroundColor:"#fff"})))),o.a.createElement("div",null,o.a.createElement("input",{type:"hidden",id:"userAgent",name:"userAgent",value:""}),o.a.createElement("video",{id:"Jazz",autoPlay:!0,playsInline:!0,ref:this.audio,muted:!0,controls:!0,style:{height:"80px"},className:"no-display"})),o.a.createElement("div",{className:"row player-row"},o.a.createElement("div",{className:"col-12 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"player-box p1"},o.a.createElement("div",{className:"row heading-row"},o.a.createElement("div",{className:"col-12 col-xl-6 player-sub-heading"},"Active Members"),o.a.createElement("div",{className:"col-12 col-xl-6"})),o.a.createElement("div",{className:"row slider-row mt-5 mb-4"},o.a.createElement("div",{className:"col-xl-12 col-12"},o.a.createElement("div",{className:"rangeslider"},o.a.createElement("div",{className:"min-value"}),o.a.createElement("div",{className:"range-slider-design female-slider"},o.a.createElement("div",{id:"slider_1"},o.a.createElement(oa.a,{maxValue:100,minValue:0,value:this.state.female,onChange:function(a){return e.setState({female:a})},onChangeComplete:function(a){return e.setTrafficData(a)}}))),o.a.createElement("div",{className:"gender-text-female"},"Female")))),o.a.createElement("div",{className:"row slider-row mb-manual"},o.a.createElement("div",{className:"col-xl-12 col-12"},o.a.createElement("div",{className:"rangeslider"},o.a.createElement("div",{className:"range-slider-design male-slider"},o.a.createElement("div",{id:"slider_2"},o.a.createElement(oa.a,{maxValue:100,minValue:0,value:this.state.male,onChange:function(a){return e.setState({male:a})},onChangeComplete:function(a){return e.setTrafficData(a)}}))),o.a.createElement("div",{className:"gender-text-male"},"Male")))))),o.a.createElement("div",{className:"col-12 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"player-box p2"},o.a.createElement("div",{className:"row heading-row"},o.a.createElement("div",{className:"col-12 col-xl-6 player-sub-heading"},"Traffic")),o.a.createElement("div",{className:"row slider-row mb-manual mt-4"},o.a.createElement("div",{className:"col-xl-12 col-12"},o.a.createElement("div",{className:"rangeslider"},o.a.createElement("div",{className:"range-slider-design male-slider"},o.a.createElement("div",{id:"slider_3"},o.a.createElement(oa.a,{maxValue:100,minValue:0,value:this.state.totalTraffic,disabled:!0}))),o.a.createElement("div",{className:"gender-text-male"},"Traffic"))),o.a.createElement("div",{className:"col-xl-12 col-12 player-btns mb-3"},o.a.createElement("button",{type:"button",onClick:this.trafficSlow,className:this.state.activeSlow?"btn btn-default slow active-clr":"btn btn-default slow"},"Slow"),o.a.createElement("button",{type:"button",onClick:this.trafficMed,className:this.state.activeMed?"btn btn-default medium active-clr":"btn btn-default medium"},"Medium"),o.a.createElement("button",{type:"button",onClick:this.trafficHype,className:this.state.activeHype?"btn btn-default hype active-clr":"btn btn-default hype"},"Hype"))))))),o.a.createElement("div",null,o.a.createElement("span",{id:"sdpDataTag"}))),this.state.alreadyPlaying&&o.a.createElement("div",{className:"modal fade",id:"addclub",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content noDj-play"},o.a.createElement("button",{type:"button",className:"close text-right","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.dismissNoModal()}},o.a.createElement("span",{"aria-hidden":"true"},o.a.createElement("img",{src:"img/close2.png"}))),o.a.createElement("div",{className:"modal-body"},o.a.createElement("h5",null,"DJ is already playing in this club"),o.a.createElement("div",{className:"display-block type-something"}))))),o.a.createElement(Ie,null)),o.a.createElement(ca.a,{url:this.state.streamPlayerUrl,playing:!0,controls:!0,onStart:this.onStart,onPlay:this.played,onEnded:this.playEnd,onDuration:this.onDuration,className:"no-display",onError:this.onError}))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var t={};return void 0!==e.clubDetails&&1==e.clubDetails.success&&e.clubDetails!==a.clubDetails?(t.clubDetails=e.clubDetails?e.clubDetails:{},t.clubData=e.clubDetails.data?e.clubDetails.data:{},t.male=e.clubDetails.data?e.clubDetails.data.male_listeners:0,t.profileImage=e.clubDetails.data?e.clubDetails.data.profile_image:0,t.female=e.clubDetails.data?e.clubDetails.data.female_listeners:0,t.clubId=e.clubDetails.data?e.clubDetails.data.club_id:"",t.streamPlayerUrl=e.clubDetails.data?e.clubDetails.data.live_stream_url:"",t.iosStreaming=e.clubDetails.data?e.clubDetails.data.ios_streaming:0,1!=t.iosStreaming&&1!=t.iosStreaming||(t.alreadyPlaying=!0),t.clubImage=e.clubDetails.data?e.clubDetails.data.club_image:"",t):void 0!==e.createData&&e.createData!==a.createData&&e.createDate!==a.createDate?(t.createData=e.createData?e.createData.live_stream:{},t.streamId=e.createData.live_stream?e.createData.live_stream.id:"",t.streamUrl=e.createData.live_stream?e.createData.live_stream.source_connection_information.sdp_url:"",t.appName=e.createData.live_stream?e.createData.live_stream.source_connection_information.application_name:"",t.streamName=e.createData.live_stream?e.createData.live_stream.source_connection_information.stream_name:"",t.startStream=!0,t.waveStart=!1,t):void 0!==e.startData&&e.startData!==a.startData?(t.startStream=!0,e.startData.live_stream?(t.streamStatus="starting"==e.startData.live_stream.state?e.startData.live_stream.state:"started",t.stopStream=!1):(t.streamStatus="started",t.showLoader=!1),t):void 0!==e.streamState&&e.streamState!==a.streamState?(t.streamStatus=e.streamState.live_stream?e.streamState.live_stream.state:"",1==e.startStream&&"started"==e.streamState.live_stream.state&&(t.startStream=!1),La=1,t.showLoader=!1,e.streamState&&e.streamState.live_stream&&(t.playStreamig="stopped"==e.streamState.live_stream.state),!t.playStreamig&&Ca&&0==La&&X.b.error("Someone is already playing Dj here, please try again later!"),t):null}}]),a}(s.Component);var Oa=Object(E.b)((function(e){var a={};return"GET_CLUBDETAILS"===e.DashboardReducer.action&&(1==e.DashboardReducer.data.error||(a.clubDetails=e.DashboardReducer.data)),"CREATE_STREAM"===e.StreamReducer.action&&(void 0==e.StreamReducer.data||(a.createData=e.StreamReducer.data,a.createDate=new Date)),"START_STREAM"===e.StreamReducer.action&&(void 0==e.StreamReducer.data||(a.startData=e.StreamReducer.data,a.startDate=new Date)),"STREAM_STATE"===e.StreamReducer.action&&(void 0==e.StreamReducer.data||(a.streamState=e.StreamReducer.data)),"STOP_STREAM"===e.StreamReducer.action&&(void 0==e.StreamReducer.data||(a.stopData=e.StreamReducer.data,a.stopDate=new Date)),"SET_STREAM_DETAILS"===e.StreamReducer.action&&(void 0==e.StreamReducer.data||(a.setStreamDetails=e.StreamReducer.data,a.setStreamDate=new Date)),a}),(function(e){return Object(c.b)({fetchClubDetails:xe,createStream:$e,startStream:ea,stopStream:ta,checkStreamState:aa,setStreamDetails:ra},e)}))(Ra),ja=t(211),ka=t(324),Ta=t.n(ka),xa=t(325),Pa=t.n(xa),Ua=(t(314),function(e){function a(e){var t;return Object(y.a)(this,a),(t=Object(D.a)(this,Object(w.a)(a).call(this,e))).stories=function(e){var a=t.state.allStories,r=[];a.map((function(a,t){t==e&&a.stories.map((function(e,a){r.push(e)}))})),t.setState({userStories:r})},t.hideUserStory=function(){t.setState({userStories:[]})},t.dismissModal=function(){t.setState({userStories:[]})},t.state={allStories:[],userStoriesData:{},stories:[{url:"",header:{heading:"",subheading:"",profileImage:"",userStories:""}}]},t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"componentDidMount",value:function(){var e={id:this.props.userId};this.props.userStories(e)}},{key:"render",value:function(){var e=this,a=this.state.allStories;return o.a.createElement("div",null,o.a.createElement("section",{className:"bg-search"},o.a.createElement("div",{className:"row stories"},o.a.createElement("div",{className:"col-xl-12 col-12"},o.a.createElement("h5",null,"Stories"))),o.a.createElement("div",{className:"row stories-row"},o.a.createElement("div",{className:"col-xl-12 col-12"},o.a.createElement("ul",{className:"story-ul"},o.a.createElement(Pa.a,{delay:3e3,speed:.02,direction:"left"},a&&a.map((function(a,t){return o.a.createElement("li",{className:"story-col",onClick:e.stories.bind(e,t),key:t},o.a.createElement("img",{src:a.profile_picture?a.profile_picture:"https://nwsid.net/wp-content/uploads/2015/05/dummy-profile-pic.png"}),o.a.createElement("span",{className:"story-heading"},a.name))}))))))),this.state.userStories&&this.state.userStories.length>0&&o.a.createElement("div",{className:"modal fade",id:"addclub",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content story-modal"},o.a.createElement("button",{type:"button",className:"close text-right","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.dismissModal()}},o.a.createElement("span",{"aria-hidden":"true"},o.a.createElement("img",{src:"img/close2.png"}))),o.a.createElement("div",{className:"modal-body "},o.a.createElement("div",{className:"display-block type-something"},this.state.userStories.length>0&&o.a.createElement(Ta.a,{stories:this.state.userStories,width:"100%",height:530,onAllStoriesEnd:this.hideUserStory})))))))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var t={};if(void 0!=e.userStoriesData&&1==e.userStoriesData.success&&e.userStoriesData!=a.userStoriesData){var r=[];return t.userStoriesData=e.userStoriesData?e.userStoriesData:{},e.userStoriesData&&e.userStoriesData.data.map((function(e,a){e.stories&&e.stories.length&&r.push(e)})),t.allStories=e.userStoriesData?r:[],t}return null}}]),a}(s.Component));var Ma=Object(E.b)((function(e){var a={};return"USER_STORIES"===e.DashboardReducer.action&&(1==e.DashboardReducer.data.error||(a.userStoriesData=e.DashboardReducer.data)),a}),(function(e){return Object(c.b)({userStories:Ge},e)}))(Ua),Aa=function(e){function a(){return Object(y.a)(this,a),Object(D.a)(this,Object(w.a)(a).apply(this,arguments))}return Object(_.a)(a,e),Object(N.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"display-block app-box mt-2"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-6 col-sm-6 col-6"},o.a.createElement("a",{href:"https://apps.apple.com/us/app/catch-app/id1487117177?ls=1",target:"_blank"},o.a.createElement("img",{src:"./img/apple-store.png",alt:"App Download Image",className:"appleButton"}))),o.a.createElement("div",{className:"col-xl-6 col-sm-6 col-6 socialLinks text-center "},o.a.createElement("a",{href:"https://facebook.com/catchapp.live.5",target:"_blank",className:"fb-link"},o.a.createElement("i",{className:"fa fa-facebook","aria-hidden":"true"})),o.a.createElement("a",{href:"https://twitter.com/catchapp01",target:"_blank",className:"tw-link"},o.a.createElement("i",{className:"fa fa-twitter","aria-hidden":"true"})),o.a.createElement("a",{href:"https://instagram.com/catchapp.live_",target:"_blank",className:"in-link"},o.a.createElement("i",{className:"fa fa-instagram","aria-hidden":"true"})))))}}]),a}(s.Component),Fa=function(e){function a(e){var t;return Object(y.a)(this,a),(t=Object(D.a)(this,Object(w.a)(a).call(this,e))).handleDetails=function(e){return o.a.createElement("div",null,t.props.history.push("/user-club/".concat(e)))},t.state={},t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"render",value:function(){var e=this,a=this.props.suggestionsList?this.props.suggestionsList:[],t=this.props.liveClubs?this.props.liveClubs:[];this.props.nearByList&&this.props.nearByList;return o.a.createElement("div",{className:"col-12 col-sm-12 col-lg-4 col-xl-4 left-section mb-5"},o.a.createElement("div",{className:"display-block recent-search-box pb-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-lg-12 col-sm-12 search-lounge-box"},o.a.createElement("span",{className:"name-lounge"},"Suggested Clubs"))),o.a.createElement("div",{className:"row"},a&&a.length>0&&a.map((function(a,t){return o.a.createElement("div",{className:"col-12 col-lg-6 col-md-6 col-sm-12 clubs mb-1 pt-0 clickMe",key:t,onClick:function(t){e.handleDetails(a.club_id)}},o.a.createElement("span",{className:"recent-clubs"},o.a.createElement("span",{className:"recent-clubs-img"}," ",o.a.createElement("img",{src:a.profile_image})),0==a.live&&o.a.createElement("span",{className:"red-color"},"\xa0"),a.live&&o.a.createElement("span",{className:"green-color"},"\xa0"),o.a.createElement("span",{className:"name-recent-club"},a.name)))})))),o.a.createElement("div",{className:"display-block recent-search-box pb-4 mt-2"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-lg-12 col-sm-12 search-lounge-box"},o.a.createElement("span",{className:"name-lounge"},"Trending Clubs"))),o.a.createElement("div",{className:"row"},t&&t.length>0&&t.map((function(a,t){return o.a.createElement("div",{className:"col-12 col-lg-6 col-md-6 col-sm-12 clubs mb-1 pt-0",key:t,onClick:function(t){e.handleDetails(a.club_id)}},o.a.createElement("span",{className:"recent-clubs"},o.a.createElement("span",{className:"recent-clubs-img"},o.a.createElement("img",{src:a.profile_image})),o.a.createElement("span",{className:"green-color"},"\xa0"),o.a.createElement("span",{className:"name-recent-club"},a.name)))})),t&&0==t.length&&o.a.createElement("div",{className:"col-12 col-lg-12 col-sm-12 like-lounge-box text-center"},0==t.length?"No Club is Live Currently":""))),o.a.createElement(Aa,null))}}]),a}(s.Component),Ga=Object(v.g)(Fa),Ba=function(e){function a(e){var t;Object(y.a)(this,a),(t=Object(D.a)(this,Object(w.a)(a).call(this,e))).handleInputChange=function(e){var a=e.target,r="checkbox"===a.type?a.checked:a.value;t.setState(Object(S.a)({},e.target.name,r))},t.clubDetails=function(e){if(void 0!=e&&""!=e)return o.a.createElement("div",null,t.props.history.push("/user-club/".concat(e)))},t.showLocationModal=function(){t.setState({showMe:!0,showMatch:!0,city:"",cityError:""})},t.dismissModal=function(){t.setState({showMe:!1,showMatch:!0,city:"",cityError:""})},t.aClubForMe=function(){if(void 0!=t.state.city&&null!=t.state.city&&""!=t.state.city&&""!=t.state.city.trim()){var e={city_name:t.state.city,user_id:t.state.userId,limit:3,offset:0};localStorage.setItem("clubLocation",t.state.city),t.setState({showLoader:!0,currentLocation:t.state.city,selectedCity:t.state.city,clubsList:[],searchDJ:!1,showMatch:!0}),t.props.fetchUserClubs(e)}else t.setState({cityError:"fieldError",showMatch:!0})},t.loadMore=function(){var e,a=localStorage.getItem("clubLocation");t.state.clubsList.length!==t.state.totalRecords&&(e={city_name:t.state.selectedCity?t.state.selectedCity:a||"india",user_id:t.state.userId,offset:t.state.offset+1,limit:t.state.limit},t.setState({showButton:!0}),t.props.fetchUserClubs(e))},t.handleSubmit=function(e){e.preventDefault(),localStorage.setItem("sortOnly",!0);var a={city_name:t.state.selectedCity?t.state.selectedCity:"India",text:t.state.term,search:!0};t.setState({showLoader:!0,searchDJ:!0,clubsList:[]}),t.state.term?t.props.searchDj(a):(a={city_name:t.state.selectedCity?t.state.selectedCity:"India",user_id:t.state.userId,limit:3,offset:0},t.setState({searchDJ:!1,clubsList:[]}),t.props.fetchUserClubs(a))},t.handleSelectChange=function(e,a){t.props.exportEmptyData();var r=a.target.value;a.target.name;t.setState({selectedCity:r}),"string"===typeof r&&r.length>=2&&(r=r.trim(),t.setState({showMatch:!1,options:[]}),t.props.citySearch({text:r}))},t.handleOnFocus=function(e,a,r){t.props.exportEmptyData(),t.setState(Object(S.a)({},e,!0)),"string"===typeof value&&t.state.selectedCity.length<1&&t.setState({selectedCity:"",options:[],showMatch:!0})},t.selectCity=function(e){e.target.value,e.target.name,e.currentTarget.dataset.mode;var a,r=e.currentTarget.dataset.id,s=e.currentTarget.dataset.pname;a={city_name:s,user_id:t.state.userId,location:t.state.selectedCity,limit:3,offset:0},t.setState({city_id:r,city_name:s,selectedCity:s,currentLocation:s,options:[],showMatch:!0,showLoader:!0,clubsList:[]}),localStorage.setItem("clubLocation",s),t.props.fetchUserClubs(a)},t.topCities=function(e){t.setState({currentLocation:e||"Select Location",selectedCity:e||"Select Location",showMatch:!0,showLoader:!0,clubsList:[],options:[]});var a={city_name:e||"Select Location",searchDJ:!1,limit:3,offset:0};localStorage.setItem("clubLocation",e),t.props.fetchUserClubs(a)};var r=JSON.parse(localStorage.getItem("userData")),s=JSON.parse(localStorage.getItem("isLoggedIn")),l=localStorage.getItem("user-type"),i=localStorage.getItem("clubLocation");return localStorage.setItem("user-type","user"),t.state={clubs:{},nearByList:[],suggestionsList:[],clubsList:[],term:"",logged_in:!!r&&r.logged_in,isLoggedIn:s||0,location:i||"",userProfile:r?r.profile_image.trim():"https://nwsid.net/wp-content/uploads/2015/05/dummy-profile-pic.png",userProfilePicture:r?r.profile_picture_url:"https://nwsid.net/wp-content/uploads/2015/05/dummy-profile-pic.png",djName:r?r.name:"",userFirstName:r?r.first_name:"",userLastName:r?r.last_name:"",userName:"",userId:r?r.user_id:1,userType:l||"",showLoader:!1,clubId:"",currentLocation:i||"",authKey:r?r.oauth_key:"",city:"",noClubs:{},visible:2,totalRecords:"",limit:10,offset:0,showButton:!1,searchDJ:!1,liveClubs:[],famousCities:[],options:[],selectedCity:i||"",city_id:"",showMatch:!1},window.scrollTo(0,0),t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"componentDidMount",value:function(){var e=this;window.scrollTo(0,0),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(a){var t=a.coords,r=t.longitude,s=t.latitude,o={lang:r,lati:s};Z.a.setApiKey("AIzaSyAOosj6Hg1fpweT-KC4FmbzOeZyuhzwdvw"),Z.a.setLanguage("en"),Z.a.setRegion("es"),Z.a.enableDebug(),Z.a.fromLatLng(s,r).then((function(a){var t=a.results[3].formatted_address.split(","),o=t[t.length-3];""==o||void 0==o||null==o?Z.a.fromLatLng(s,r).then((function(a){var t=a.results[2].formatted_address.split(","),r=t[t.length-3];localStorage.setItem("clubLocation",r),localStorage.setItem("location",r),e.setState({selectedCity:r,currentLocation:r})})):(localStorage.setItem("clubLocation",o),localStorage.setItem("location",o),e.setState({selectedCity:o,currentLocation:o}))}),(function(e){console.error(e)})),localStorage.setItem("placeData",JSON.stringify(o))})):(localStorage.setItem("clubLocation",""),console.error("Geolocation is not supported by this browser!"));var a=localStorage.getItem("clubLocation");void 0===this.state.selectedCity&&null===this.state.selectedCity&&""!=this.state.selectedCity.trim()||this.setState({showMatch:!0}),this.props.liveDJList();"dj"==this.state.userType&&(1!=this.state.logged_in&&1!=this.state.isLoggedIn&&""===this.state.authKey||(window.location.href="/dashboard"));var t={city_name:this.state.selectedCity?this.state.selectedCity:"Select Location",limit:3,offset:0,searchDJ:!1,user_id:this.state.userId};this.setState({showLoader:!0,currentLocation:this.state.location?this.state.location:a,location:this.state.location?this.state.location:a}),this.props.fetchUserClubs(t),this.props.topCities()}},{key:"render",value:function(){var e,a=this;e=null==this.state.userLastName||void 0==this.state.userLastName||""==this.state.userLastName.trim()?"":this.state.userLastName;var t=this.state.userFirstName+" "+e,r=[];return void 0!=this.state.options&&this.state.options.length>0&&(r=this.state.options.map((function(e,a){return{value:e.id,label:e.name}}))),o.a.createElement("div",null,o.a.createElement($.a,{active:this.state.showLoader,spinner:o.a.createElement(ae.a,{color:"#fb556b"}),text:"Loading"},o.a.createElement("div",{className:"container-fluid menu"},o.a.createElement("div",{className:"container"},o.a.createElement(Ce,{userProfile:this.state.userProfile?this.state.userProfile:this.state.userProfilePicture,userName:this.state.djName?this.state.djName:t,showLocationModal:function(){a.showLocationModal()}}))),o.a.createElement("div",{className:"container"},o.a.createElement(Ma,{userId:this.state.userId}),o.a.createElement("section",{className:"lounge-recent-search"},o.a.createElement("div",{className:"row city-heading"},o.a.createElement("div",{className:"col-12 col-xl-8"},o.a.createElement("div",{className:"location-dark-container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-xl-6 col-md-6 currentLocation club-search city-search"},o.a.createElement("div",{className:"location-bg has-search",onClick:this.showLocationModal},o.a.createElement("span",{className:"dashboard-location"},o.a.createElement("i",{className:"fa fa-map-marker","aria-hidden":"true"})),o.a.createElement("h3",null,this.state.currentLocation?this.state.currentLocation:"Select Location"))),o.a.createElement("div",{className:"col-12 col-md-6 col-xl-6"},o.a.createElement("section",{className:"club-search"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-md-12 col-xl-12 col-sm-12 left-login"},o.a.createElement("form",{onSubmit:this.handleSubmit},o.a.createElement("div",{className:"form-group has-search"},o.a.createElement("span",{className:"fa fa-search form-control-feedback"}),o.a.createElement("input",{type:"text",className:"form-control",placeholder:"Search Club",value:this.state.term,autoComplete:"off",onChange:this.handleInputChange,name:"term"}))))))))))),o.a.createElement("h5",{className:"nearby"},"Clubs nearby you"),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-sm-12 col-lg-8 col-xl-8 left-section"},this.state.clubsList&&this.state.clubsList.map((function(e,t){return o.a.createElement("div",{className:"display-block lounge-box",key:t,onClick:"user"==a.state.userType?a.clubDetails.bind(a,e.club_id):a.clubDetails.bind(a,e.id)},o.a.createElement("div",{className:"row fade-in"},o.a.createElement("div",{className:"col-12 col-lg-12 col-sm-12 like-lounge-box"},o.a.createElement("span",{className:"name-lounge"},e.name),0==e.live&&o.a.createElement("span",{className:"red-color-list"},"\xa0"),e.live&&o.a.createElement("span",{className:"green-color-list"},"\xa0")),o.a.createElement("div",{className:"col-12 col-lg-12 col-sm-12"},o.a.createElement("div",{className:"club-image"},o.a.createElement("img",{src:e.profile_image})))))})),o.a.createElement("div",{className:"col-12 col-lg-12 col-sm-12 text-center add-club-btn load-more"},!this.state.searchDJ&&this.state.clubsList.length>0&&this.state.clubsList.length!==this.state.totalRecords&&o.a.createElement("button",{onClick:this.loadMore,type:"button",className:this.state.showButton?"load-more btn w-25 buttonCursor":"load-more btn w-25",disabled:!!this.state.showButton},this.state.showButton?"Loading...":"Load more")),this.state.clubsList&&this.state.clubsList.length<=0&&o.a.createElement("div",{className:"display-block lounge-box pb-4"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-lg-12 col-sm-12 like-lounge-box text-center "},"Sorry! No Club Found."),o.a.createElement("div",{className:"col-12 col-lg-12 col-sm-12 like-lounge-box text-center"},o.a.createElement("img",{src:"./img/nodj.png",className:"discImg"}))))),o.a.createElement(Ga,{suggestionsList:this.state.suggestionsList,nearByList:this.state.nearByList,liveClubs:this.state.liveClubs}))),this.state.showMe&&o.a.createElement("div",{className:"modal fade",id:"addclub",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content"},o.a.createElement("button",{type:"button",className:"close text-right","data-dismiss":"modal","aria-label":"Close",onClick:function(){return a.dismissModal()}},o.a.createElement("span",{"aria-hidden":"true"},o.a.createElement("img",{src:"img/close.png"}))),o.a.createElement("div",{className:"modal-header text-center"},o.a.createElement("h5",Object(S.a)({className:"modal-title",id:"exampleModalLabel"},"className","new-club"),"Choose Your City")),o.a.createElement("div",{className:"modal-body"},o.a.createElement("div",{className:"display-block type-something city-border"},o.a.createElement("span",{className:"fa fa-search form-control-feedback"}),o.a.createElement("input",{className:"form-control",value:this.state.selectedCity,autoComplete:"off",onChange:this.handleSelectChange.bind(this,"selectedCity"),onFocus:this.handleOnFocus.bind(this,"selectedCity_focus"),placeholder:"Search City",type:"text"}),this.state.selectedCity&&""!==this.state.selectedCity&&this.state.selectedCity.length>1&&!this.state.showMatch&&o.a.createElement("ul",{className:"search-dropdown"},r.length>0?r.map((function(e,t){return o.a.createElement("li",{key:"selectedCity-"+t,"data-id":e.value,"data-mode":"selectedCity","data-pname":e.label,onClick:a.selectCity},o.a.createElement("a",null,e&&e.label))})):o.a.createElement("li",{className:0==r.length&&this.state.selectedCity.length>1?"no-match":"no-display",key:"selectedCity-norecord","data-id":0,"data-mode":"selectedCity","data-pname":"city_match_not_found","data-index":-1},o.a.createElement("a",null,"No match found!")))),o.a.createElement("p",{className:"modal-line"}),o.a.createElement("div",{className:"d-block another-city"},o.a.createElement("h6",null,"Choose Other City"),o.a.createElement("ul",null,this.state.famousCities&&this.state.famousCities.length>0&&this.state.famousCities.map((function(e,t){return o.a.createElement("li",{key:t,onClick:function(){return a.topCities(e.name)}},e.name)}))),o.a.createElement("div",null))),o.a.createElement("div",{className:"modal-footer modal-button"}))))),o.a.createElement(Ie,null)))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var t={};if(e.exportEmptyData(),void 0!==e.clubs&&e.clubs!==a.clubs){t.clubs=e.clubs?e.clubs:{},t.clubsList=[].concat(Object(ja.a)(a.clubsList),Object(ja.a)(e.clubs.data)),t.offset=a.offset+1;var r=[];if(t.showButton=!1,e.clubs&&e.clubs.suggested_clubs)e.clubs.suggested_clubs.map((function(e,a){a<6&&r.push(e)})),t.visible=2;t.suggestionsList=r||[],t.nearByList=e.clubs.nearby_clubs?e.clubs.nearby_clubs:[],t.showMe=!1,t.totalRecords=e.clubs.paginator?e.clubs.paginator.totalRecords:0,t.limit=e.clubs.paginator?e.clubs.paginator.limit:3,t.offset=e.clubs.paginator?e.clubs.paginator.offset:0,t.showButton=!1,t.showLoader=!1}if(void 0!==e.noClubs&&1==e.noClubs.error&&e.noClubs!==a.noClubs){t.showMe=!1,t.clubsList=[];var s=[];if(e.noClubs&&e.noClubs.suggested_clubs)e.noClubs.suggested_clubs.map((function(e,a){a<6&&s.push(e)}));t.showButton=!1,t.suggestionsList=s||[],t.nearByList=e.noClubs.nearby_clubs?e.noClubs.nearby_clubs:[],t.showLoader=!1}if(void 0!==e.liveClubs&&e.liveClubs!==a.liveClubs){var o=[];if(e.liveClubs&&e.liveClubs.data.length>0)e.liveClubs.data.map((function(e,a){a<6&&o.push(e)}));t.liveClubs=o||[]}return void 0!==e.famousCities&&0==e.famousCities.error&&e.famousCities!==a.famousCities&&(t.famousCities=e.famousCities?e.famousCities.data:[]),void 0!==e.searchCity&&e.searchCity!==a.searchCity&&0==e.searchCity.error&&(t.options=e.searchCity?e.searchCity.data:[]),t}}]),a}(s.Component);var Ja=Object(E.b)((function(e){var a={};return"USER_CLUB_LIST"===e.DashboardReducer.action&&(1==e.DashboardReducer.data.error?a.noClubs=e.DashboardReducer.data:a.clubs=e.DashboardReducer.data),"SEARCH_CLUBS"===e.DashboardReducer.action&&(1==e.DashboardReducer.data.error||(a.clubs=e.DashboardReducer.data)),"LIVE_DJ"===e.DashboardReducer.action&&(1==e.DashboardReducer.data.error||(a.liveClubs=e.DashboardReducer.data)),"TOP_CITIES"===e.DashboardReducer.action&&(1==e.DashboardReducer.data.error||(a.famousCities=e.DashboardReducer.data)),"SEARCH_CITY"===e.DashboardReducer.action&&(1==e.DashboardReducer.data.error||(a.searchCity=e.DashboardReducer.data)),a}),(function(e){return Object(c.b)({fetchUserClubs:Ue,exportEmptyData:Pe,searchDj:Me,liveDJList:Je,topCities:Ke,citySearch:He},e)}))(Ba),Ka=function(e){function a(e){var t;Object(y.a)(this,a),(t=Object(D.a)(this,Object(w.a)(a).call(this,e))).handleInputChange=function(e){var a=e.target,r="checkbox"===a.type?a.checked:a.value;t.setState(Object(S.a)({},e.target.name,r))},t.played=function(){},t.playWave=function(){t.setState({waveStart:!0,playing:!0})},t.stopPlayWave=function(){t.setState({waveStart:!1,playing:!1})},t.dismissModal=function(){return o.a.createElement("div",null,t.props.history.push("/"))},t.playEnd=function(){t.setState({noDj:!0,playing:!1})},t.onDuration=function(e){},t.onError=function(e){"hlsError"&&t.setState({noDj:!0,playing:!1})};var r=JSON.parse(localStorage.getItem("userData")),s=JSON.parse(localStorage.getItem("isLoggedIn")),l=localStorage.getItem("user-type");return t.state={logged_in:!!r&&r.logged_in,isLoggedIn:s||0,location:r?r.location:"",userProfile:r?r.profile_image:"",djName:r?r.name:"",userName:r?r.first_name+" "+(r.last_name?r.last_name:""):"",userId:r?r.user_id:"",clubId:"",clubDetails:{},clubData:{},startStream:{},createData:{},profileImage:"",streamId:"",female:0,male:0,player:"",showLoader:!1,userType:l||"",streamName:"",appName:"",streamUrl:"",totalTraffic:0,clubImage:"",waveStart:!1,playing:!1,playStreamig:!1,traffic:"",noDj:!1,iosStreaming:!1},t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"componentDidMount",value:function(){"dj"==this.state.userType&&(window.location.href="/dashboard"),window.scrollTo(0,0);var e=this.props.match.params.id?this.props.match.params.id:"",a={user_id:this.state.userId,club_id:e,web:!0};this.setState({showLoader:!0}),e&&this.props.fetchClubDetails(a)}},{key:"render",value:function(){var e=this,a=this.state;a.female,a.male,a.totalTraffic;return o.a.createElement("div",null,o.a.createElement($.a,{active:this.state.showLoader,spinner:o.a.createElement(ae.a,{color:"#fb556b"}),text:"Loading"},o.a.createElement("div",{className:"container-fluid menu"},o.a.createElement("div",{className:"container"},o.a.createElement(Ce,{userProfile:this.state.userProfile,userName:this.state.djName?this.state.djName:this.state.userName}))),o.a.createElement("div",{className:"container"},o.a.createElement("section",{className:"player"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-xl-12 player-section"},o.a.createElement("div",{className:"media-box"},o.a.createElement("h2",null,this.state.clubData.club_name),o.a.createElement("div",{className:"media-player"},o.a.createElement("img",{src:"/img/media-player3-min.png"}),!this.state.playing&&o.a.createElement("div",{className:"play button",onClick:this.playWave},o.a.createElement("span",{className:"inner-play"},"\u25b6")),this.state.playing&&o.a.createElement("div",{className:"play button",onClick:this.stopPlayWave},o.a.createElement("span",{className:"inner-play"},"\u25a0")))))),o.a.createElement("div",null,o.a.createElement(ca.a,{url:this.state.streamUrl,playing:this.state.playing,controls:!0,onPlay:this.played,onEnded:this.playEnd,onDuration:this.onDuration,className:"no-display",onError:this.onError})),o.a.createElement("div",{className:"row player-row"},o.a.createElement("div",{className:"col-12 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"player-box p1"},o.a.createElement("div",{className:"row heading-row"},o.a.createElement("div",{className:"col-12 col-xl-6 player-sub-heading"},"Active Members"),o.a.createElement("div",{className:"col-12 col-xl-6"})),o.a.createElement("div",{className:"row slider-row mt-5 mb-4"},o.a.createElement("div",{className:"col-xl-12 col-12"},o.a.createElement("div",{className:"rangeslider cursor-none"},o.a.createElement("div",{className:"min-value"}),o.a.createElement("div",{className:"range-slider-design female-slider"},o.a.createElement("div",{id:"slider_1"},o.a.createElement(oa.a,{maxValue:100,minValue:0,value:this.state.female,onChange:function(a){return e.setState({female:a})},onChangeComplete:function(e){return e},disabled:!0}))),o.a.createElement("div",{className:"gender-text-female"},"Female")))),o.a.createElement("div",{className:"row slider-row mb-manual"},o.a.createElement("div",{className:"col-xl-12 col-12"},o.a.createElement("div",{className:"rangeslider"},o.a.createElement("div",{className:"range-slider-design male-slider"},o.a.createElement("div",{id:"slider_2"},o.a.createElement(oa.a,{maxValue:100,minValue:0,value:this.state.male,onChange:function(a){return e.setState({male:a})},onChangeComplete:function(e){return e},disabled:!0}))),o.a.createElement("div",{className:"gender-text-male"},"Male")))))),o.a.createElement("div",{className:"col-12 col-lg-6 col-xl-6"},o.a.createElement("div",{className:"player-box p2"},o.a.createElement("div",{className:"row heading-row"},o.a.createElement("div",{className:"col-12 col-xl-6 player-sub-heading"},"Traffic")),o.a.createElement("div",{className:"row slider-row mb-manual mt-4"},o.a.createElement("div",{className:"col-xl-12 col-12"},o.a.createElement("div",{className:"rangeslider"},o.a.createElement("div",{className:"range-slider-design male-slider"},o.a.createElement("div",{id:"slider_3"},o.a.createElement(oa.a,{maxValue:100,minValue:0,value:this.state.totalTraffic,onChange:function(a){return e.setState({totalTraffic:a})},disabled:!0,onChangeComplete:function(e){return e}}))),o.a.createElement("div",{className:"gender-text-male"},"Traffic"))),o.a.createElement("div",{className:"col-xl-12 col-12 player-btns mb-3"},o.a.createElement("button",{type:"button",className:this.state.totalTraffic>0&&this.state.totalTraffic<31?"btn btn-default slow active-clr":"btn btn-default slow"},"Slow"),o.a.createElement("button",{type:"button",className:this.state.totalTraffic>30&&this.state.totalTraffic<61?"btn btn-default medium active-clr":"btn btn-default medium"},"Medium"),o.a.createElement("button",{type:"button",className:this.state.totalTraffic>60&&this.state.totalTraffic<101?"btn btn-default hype active-clr":"btn btn-default hype"},"Hype"))))))),o.a.createElement("div",null,o.a.createElement("span",{id:"sdpDataTag"})),this.state.noDj&&o.a.createElement("div",{className:"modal fade",id:"addclub",tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},o.a.createElement("div",{className:"modal-dialog",role:"document"},o.a.createElement("div",{className:"modal-content noDj-play"},o.a.createElement("button",{type:"button",className:"close text-right","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.dismissModal()}},o.a.createElement("span",{"aria-hidden":"true"},o.a.createElement("img",{src:"img/close2.png"}))),o.a.createElement("div",{className:"modal-body"},o.a.createElement("h5",null,"No Dj is playing in this club"),o.a.createElement("div",{className:"display-block type-something"})))))),o.a.createElement(Ie,null)))}}],[{key:"getDerivedStateFromProps",value:function(e,a){var t={};return void 0!==e.clubDetails&&1==e.clubDetails.success&&e.clubDetails!==a.clubDetails?(t.clubDetails=e.clubDetails?e.clubDetails:{},t.clubData=e.clubDetails.data?e.clubDetails.data:{},t.male=e.clubDetails.data?e.clubDetails.data.male_listeners:0,t.profileImage=e.clubDetails.data?e.clubDetails.data.profile_image:0,t.female=e.clubDetails.data?e.clubDetails.data.female_listeners:0,t.traffic=e.clubDetails.data?e.clubDetails.data.traffic:"",t.female<=0&&t.male,e.clubDetails.data.female_listeners||""!=t.female&&void 0!=t.female&&null!=t.female||(t.noDj=!0),"Slow"==t.traffic&&(t.totalTraffic=30),"Normal"==t.traffic&&(t.totalTraffic=50),"Hype"==t.traffic&&(t.totalTraffic=100),t.clubId=e.clubDetails.data?e.clubDetails.data.club_id:"",t.streamUrl=e.clubDetails.data?e.clubDetails.data.live_stream_url:"",t.clubImage=e.clubDetails.data?e.clubDetails.data.club_image:"",t.iosStreaming=e.clubDetails.data.ios_streaming?e.clubDetails.data.ios_streaming:0,1!=t.iosStreaming&&1!=t.iosStreaming||(t.noDj=!1),t.showLoader=!1,t):null}}]),a}(s.Component);var Ha=Object(E.b)((function(e){var a={};return"GET_CLUBDETAILS"===e.DashboardReducer.action&&(1==e.DashboardReducer.data.error||(a.clubDetails=e.DashboardReducer.data)),"CREATE_STREAM"===e.StreamReducer.action&&(void 0==e.StreamReducer.data||(a.createData=e.StreamReducer.data,a.createDate=new Date)),"START_STREAM"===e.StreamReducer.action&&(void 0==e.StreamReducer.data||(a.startData=e.StreamReducer.data,a.startDate=new Date)),"STREAM_STATE"===e.StreamReducer.action&&(void 0==e.StreamReducer.data||(a.streamState=e.StreamReducer.data)),"STOP_STREAM"===e.StreamReducer.action&&(void 0==e.StreamReducer.data||(a.stopData=e.StreamReducer.data,a.stopDate=new Date)),"SET_STREAM_DETAILS"===e.StreamReducer.action&&(void 0==e.StreamReducer.data||(a.setStreamDetails=e.StreamReducer.data,a.setStreamDate=new Date)),a}),(function(e){return Object(c.b)({fetchClubDetails:xe,createStream:$e,startStream:ea,stopStream:ta,checkStreamState:aa,setStreamDetails:ra},e)}))(Ka),Wa=function(e){var a=e.component,t=Object(r.a)(e,["component"]);return o.a.createElement(v.b,Object.assign({},t,{render:function(e){return se()?o.a.createElement(a,e):o.a.createElement(v.a,{to:"/"})}}))},qa=function(e){function a(e){var t;return Object(y.a)(this,a),(t=Object(D.a)(this,Object(w.a)(a).call(this,e))).state={hasError:!1},t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"render",value:function(){return this.state.hasError?o.a.createElement("div",{className:"main protected"},o.a.createElement("div",{className:"something-wrong"},o.a.createElement(_e.a,{to:"/logout",className:"click-logout"},"Click to Logout"))):this.props.children}}]),a}(o.a.Component),za=o.a.createElement(qa,null,o.a.createElement(v.d,null,o.a.createElement(v.a,{exact:!0,path:"/",to:"/"}),o.a.createElement(Wa,{path:"/dashboard",component:qe}),o.a.createElement(Wa,{exact:!0,path:"/profile",component:Ze}),o.a.createElement(Wa,{exact:!0,path:"/club-details/:id",component:Oa}))),Va=function(e){function a(e){var t;return Object(y.a)(this,a),t=Object(D.a)(this,Object(w.a)(a).call(this,e)),le(),t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"render",value:function(){return null}}]),a}(o.a.Component),Ya=function(e){function a(e){var t;Object(y.a)(this,a),(t=Object(D.a)(this,Object(w.a)(a).call(this,e))).handleInputChange=function(e){var a,r=e.target,s="checkbox"===r.type?r.checked:r.value;t.setState((a={},Object(S.a)(a,e.target.name,s),Object(S.a)(a,"errorMessagePass",""),a))},t.handleSubmit=function(e){e.preventDefault()},t.djLogin=function(){return localStorage.setItem("user-type","dj"),o.a.createElement("div",null,t.props.history.push("/dj-login"))},t.userLogin=function(){return localStorage.setItem("user-type","user"),o.a.createElement("div",null,t.props.history.push("/user-login"))};var r=JSON.parse(localStorage.getItem("userData")),s=JSON.parse(localStorage.getItem("isLoggedIn")),l=localStorage.getItem("user-type");return t.state={logged_in:!!r&&r.logged_in,isLoggedIn:s||0,userId:r?r.id:"",userType:l||""},t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"componentDidMount",value:function(){"dj"==this.state.userType&&1==this.state.logged_in&&1==this.state.isLoggedIn&&this.props.history.push("/dashboard"),"user"==this.state.userType&&1==this.state.logged_in&&1==this.state.isLoggedIn&&this.props.history.push("/")}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 col-sm-12 col-xl-6 px-0 left-text"},o.a.createElement("section",{className:"login-left-box"},o.a.createElement("div",{className:"login-box-inner"},o.a.createElement("div",{className:"display-block logo-box mb-4"},o.a.createElement("img",{src:"img/logo-color.png"})," ",o.a.createElement("span",{className:"catch"},"Catch Dj")),o.a.createElement("div",{className:"display-block"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-xl-6 col-sm-12 col-12 login-btn-box mt-4"},o.a.createElement("button",{type:"button",className:"btn login-btn w-100",onClick:this.djLogin},"DJ LOGIN")),o.a.createElement("div",{className:"col-xl-6 col-sm-12 col-12 login-btn-box mt-4"},o.a.createElement("button",{type:"button",className:"btn login-btn w-100",onClick:this.userLogin},"USER LOGIN"))))))),o.a.createElement("div",{className:"col-12 col-sm-12 col-xl-6 px-0 right-img"},o.a.createElement("section",{className:"login-right-box"},o.a.createElement("div",{className:"login-box-inner"},o.a.createElement("img",{src:"img/right-img.png"}))))))}}],[{key:"getDerivedStateFromProps",value:function(e,a){return null}}]),a}(s.Component),Za=Object(E.b)((function(e){if("LOGIN"===e.LoginReducer.action){var a={};if(!1!==e.LoginReducer.Logindata.error)a.errorData=e.LoginReducer.Logindata,a.errorDate=new Date;else{var t=e.LoginReducer.Logindata.data;a.userData=e.LoginReducer.Logindata.data,localStorage.setItem("userData",JSON.stringify(t)),localStorage.setItem("isLoggedIn",1)}return a}return{loginMessage:""}}),(function(e){return{userSignInRequest:Object(c.b)(T,e)}}))(Object(v.g)(Ya)),Xa=(t(729),t(730),t(731),function(e){function a(e){var t;Object(y.a)(this,a);var r=JSON.parse(localStorage.getItem("userData")),s=JSON.parse(localStorage.getItem("isLoggedIn"));localStorage.getItem("user-type");return(t=Object(D.a)(this,Object(w.a)(a).call(this,e))).state={logged_in:!!r&&r.logged_in,isLoggedIn:s||0,headerName:r?r.name:"",userHeadName:r?r.first_name+" "+(r.last_name?r.last_name:""):"",imagePreviewUrl:r?r.profile_image:r?r.profile_picture_url:""},t}return Object(_.a)(a,e),Object(N.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:""},o.a.createElement("div",{className:"container-fluid menu"},o.a.createElement("div",{className:"container"},o.a.createElement(Ce,{userProfile:this.state.imagePreviewUrl,userName:this.state.headerName?this.state.headerName:this.state.userHeadName}))),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"content-bg"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12"},o.a.createElement("h1",{className:"inner-page-heading"},"About Us")),o.a.createElement("div",{className:"col-12 inner-content"},o.a.createElement("p",null,"CatchApp is a live streaming platform for nightlife industry. We connect online audiences with nightlife experience in real-time Users can be able to listen and know what's happening in clubs/venues before there go out. Nightlife industry businesses can be able to attract online audiences through live streaming music on CatchApp and real-time updates on specials to their target market. Through CatchApp stories and insights updates (traffic and gender) users can get hype to have fun either virtually or physically. Dj are able to attract real-time fan-base into their venues and also virtual audiences streaming around the world."),o.a.createElement("p",{className:"address-section"},o.a.createElement("strong",null,"At CatchApp Every Moment Counts"),o.a.createElement("br",null),o.a.createElement("i",{class:"fa fa-building","aria-hidden":"true"})," ",o.a.createElement("b",null,"Address"),": CatchApp,HQ Cleveland, Ohio U.S.A",o.a.createElement("br",null),o.a.createElement("i",{class:"fa fa-phone","aria-hidden":"true"})," ",o.a.createElement("b",null,"Contact Tel"),":"," ",o.a.createElement("a",{href:"tel:+12163339862"},"+12163339862"),o.a.createElement("br",null),o.a.createElement("i",{class:"fa fa-envelope","aria-hidden":"true"})," ",o.a.createElement("b",null,"Email"),":"," ",o.a.createElement("a",{href:"mailto:catchapplive@gmail.com"},"catchapplive@gmail.com"),o.a.createElement("br",null)))))),o.a.createElement("div",{className:"container"}," ",o.a.createElement("div",{className:"abouts-footer100vh"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-12 copyright text-center"},"Copyright \xa9 2020 ",o.a.createElement("span",{className:"color-footer"},"CatchApp")," ","| All Rights Reserved"," ")))))}}]),a}(s.Component)),Qa=(t(732),Object(c.d)(b,Object(c.a)(n.a)));function $a(){JSON.parse(localStorage.getItem("userData"));return se()}var et=function(e){var a=e.component,t=Object(r.a)(e,["component"]);return o.a.createElement(v.b,Object.assign({},t,{render:function(e){return $a()?o.a.createElement(v.a,{to:{pathname:"/",state:{from:e.location}}}):o.a.createElement(a,e)}}))},at=Object(we.a)();at.location;i.a.render(o.a.createElement(E.a,{store:Qa},o.a.createElement(v.c,{history:at},o.a.createElement(v.d,null,o.a.createElement(v.b,{path:"/dj-login",component:de}),o.a.createElement(v.b,{path:"/user-login",component:pe}),o.a.createElement(v.b,{path:"/home",component:Za}),o.a.createElement(et,{path:"/forget-password",component:ge}),o.a.createElement(v.b,{exact:!0,path:"/logout",component:Va}),o.a.createElement(et,{path:"/sign-up/",component:ye}),o.a.createElement(et,{path:"/register",component:De}),o.a.createElement(v.b,{exact:!0,path:"/",component:Ja}),o.a.createElement(v.b,{exact:!0,path:"/about-us",component:Xa}),o.a.createElement(v.b,{exact:!0,path:"/user-club/:id",component:Ha}),o.a.createElement(et,{exact:!0,path:"/reset-password/:token",component:be}),za,o.a.createElement(v.a,{from:"/*",to:"/"}))),o.a.createElement(X.a,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnVisibilityChange:!0,draggable:!0,pauseOnHover:!0})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[326,1,2]]]);
//# sourceMappingURL=main.ed337068.chunk.js.map